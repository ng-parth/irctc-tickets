var toDay=null,curDt=null,yesterDay=null,arpDate=null,st=null;function dayDisablementFunction(a){return yesterDay<a.date&&a.date<=arpDate?!0:!1}function disabledClassesProv(a){if(!dayDisablementFunction(a))return"rf-cal-boundary-day"}function checkUId(a){window.name.split(":")[0]!=a&&(window.location.href="logout")}function setRId(a){var b=window.name.split(":");2==b.length&&b[1]>=a&&(window.location.href="logout");window.name=b[0]+":"+a}
function setUId(a){var b=window.name.split(":");window.name=2==b.length?a+":"+b[1]:a}function clickEventIE(){if(document.all)return!1}function clickEventNonIE(a){if(document.layers||document.getElementById&&!document.all)if(2==a.which||3==a.which)return!1}document.layers?(document.captureEvents(Event.MOUSEDOWN),document.onmousedown=clickEventNonIE):(document.onmouseup=clickEventNonIE,document.oncontextmenu=clickEventIE);document.oncontextmenu=new Function("return false");
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(a){var b="",c,e,f,h,k,g,m=0;for(a=Base64._utf8_encode(a);m<a.length;)c=a.charCodeAt(m++),e=a.charCodeAt(m++),f=a.charCodeAt(m++),h=c>>2,c=(c&3)<<4|e>>4,k=(e&15)<<2|f>>6,g=f&63,isNaN(e)?k=g=64:isNaN(f)&&(g=64),b=b+this._keyStr.charAt(h)+this._keyStr.charAt(c)+this._keyStr.charAt(k)+this._keyStr.charAt(g);return b},decode:function(a){var b="",c,e,f,h,k,g=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,
"");g<a.length;)c=this._keyStr.indexOf(a.charAt(g++)),e=this._keyStr.indexOf(a.charAt(g++)),h=this._keyStr.indexOf(a.charAt(g++)),k=this._keyStr.indexOf(a.charAt(g++)),c=c<<2|e>>4,e=(e&15)<<4|h>>2,f=(h&3)<<6|k,b+=String.fromCharCode(c),64!=h&&(b+=String.fromCharCode(e)),64!=k&&(b+=String.fromCharCode(f));return b=Base64._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var e=a.charCodeAt(c);128>e?b+=String.fromCharCode(e):(127<e&&2048>e?b+=String.fromCharCode(e>>
6|192):(b+=String.fromCharCode(e>>12|224),b+=String.fromCharCode(e>>6&63|128)),b+=String.fromCharCode(e&63|128))}return b},_utf8_decode:function(a){for(var b="",c=0,e=c1=c2=0;c<a.length;)e=a.charCodeAt(c),128>e?(b+=String.fromCharCode(e),c++):191<e&&224>e?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((e&31)<<6|c2&63),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((e&15)<<12|(c2&63)<<6|c3&63),c+=3);return b}};
jQuery.fn.preventDoubleSubmission=function(){$(this).on("submit",function(a){var b=$(this);!0===b.data("submitted")?a.preventDefault():b.data("submitted",!0)});return this};
$(document).ready(function(){$("#cancelListForm\\:cancelbuttonid").dblclick(function(){$("#cancelListForm\\:cancelbuttonid").click();$("#cancelListForm\\:cancelbuttonid").attr("disabled","disabled")});$("#cancelListForm\\:tdrbuttonid").dblclick(function(){$("#cancelListForm\\:tdrbuttonid").click();$("#cancelListForm\\:tdrbuttonid").attr("disabled","disabled")});$("#cancelListForm\\:pnrid").focus()});
var count,cancelpsgn,countForTrainCancel,countForSelectPsgn,eftflagval=2,curDt=new Date("#{cacheWrapper.currentDateForJs}"),yesterDay=new Date("#{cacheWrapper.currentDateForJs}");yesterDay.setDate(yesterDay.getDate()-120);arpDate=new Date("#{cacheWrapper.currentDateForJs}");arpDate.setDate(arpDate.getDate());function dayDisablementFunction(a){return yesterDay<a.date&&a.date<=arpDate?!0:!1}function disabledClassesProv(a){if(!dayDisablementFunction(a))return"rf-cal-boundary-day"}
function getPnrEnquiryforCancellation(a){var b=$("input:radio:checked").parents("tr:first"),c=$("input:radio:checked").val();null!=b&&1==b.length?(popup1showfunc(),reservationid=b.find("td:eq(2)").text(),pnr=b.find("td:eq(3)").text(),jrnydate=b.find("td:eq(4)").text(),processCancel(pnr,reservationid,c,jrnydate)):1==a?alert(cancelTdrMsg.Please_select_Tkt_Cancellation):alert(cancelTdrMsg.Please_select_Tkt_TDR)}
function initatedCancellationRequest(a,b){popup1hidefunc();1==b?servicenotavlpopupshow():0==a&&cancelInputshowfunc()}function closeCancelInputPopup(){cancelInputhidefunc();updateList()}function closeCancelOutputPopup(a,b){cancelOutputhidefunc();1==b||0==a?updateList():1==a&&refreshStatus()}
function searchValidation(){var a=$("#cancelListForm\\:pnrid").val(),b=$("#cancelListForm\\:transacid").val(),c=$("#cancelListForm\\:filterjourneyDateidInputDate").val(),e=$("#cancelListForm\\:filterfromid").val(),f=$("#cancelListForm\\:filtertoStnid").val();if(null!=a&&""!=a||0!=b||null!=c&&""!=c||null!=e&&""!=e||null!=f&&""!=f){if(0<a.length&&10!=a.length)return alert(cancelTdrMsg.PNRNumber_Ten_digit),!1;if(0<b.length&&isNaN(b))return alert(cancelTdrMsg.TransactionId_Numric),!1;if(0<a.length&&isNaN(a))return alert(cancelTdrMsg.PNRNumber_Numric),
!1}else return alert(cancelTdrMsg.Atleast_one_input_Search),!1;processfilterdata(a,b,e,f,c);return!0}function resetInit(){$("#cancelListForm\\:pnrid").val(null);$("#cancelListForm\\:transacid").val(null);$("#cancelListForm\\:filterfromid").val(null);$("#cancelListForm\\:filtertoStnid").val(null)}function processCancellationComplete(a,b){popup1hidefunc();1==b?servicenotavlpopupshow():0==a?(cancelInputhidefunc(),cancelOutputshowfunc()):cancelInputshowfunc()}
function setCharAt(a,b,c){return b>a.length-1?a:a.substr(0,b)+c+a.substr(b+1)}
function cancelTicketStart(a,b,c,e,f,h,k,g){c=!1;cancelpsgn="NNNNNN";var m=0;f=0;f=$("form[name\x3d'txnHistory']").length;count=$(".select-psgn-to-cancel:checked").length;$(".select-psgn-to-cancel").each(function(a){$(this).is(":checked")&&(cancelpsgn=setCharAt(cancelpsgn,a,"Y"),m++)});0<count&&(c=!0);if(0==c)return cancelInputshowfunc(),alert(cancelTdrMsg.Select_Atleast_One_Psgn),!1;e=c=0;var l;if(a){c=$("#cancelListForm\\:tdrreasonslistid").val();h=$("#cancelListForm\\:eftnumberid").val();e=$("#cancelListForm\\:eftamountid").val();
a=$("#cancelListForm\\:eftdateidInputDate").val();1==eftflagval&&(l=!/^[0-9]+$/.test(e));if(0==c)return alert(cancelTdrMsg.File_TDR_Reason_Check),!1;if(1!=eftflagval||0!=$.trim(h).length&&0!=$.trim(e).length&&0!=$.trim(a).length){if(1==eftflagval&&l)return alert(cancelTdrMsg.TDR_Eft_amount_Numric),!1;l=!1;if(l=8!=c&&14!=c&&17!=c&&18!=c&&20!=c||0!=k||!g?confirm(cancelTdrMsg.confirm_TDR_File_Request):confirm(cancelTdrMsg.confirm_TDR_CAN_File_Request))$("#cancelListForm\\:tdrbuttonid").attr("disabled",
"disabled"),cancelInputhidefunc(),popup1showfunc(),0==b&&processCancelRequest(cancelpsgn,c,eftflagval,h,e,a);else return!1}else return alert(cancelTdrMsg.TDR_Eft_input),!1}else if(l=!1,l=h?confirm(cancelTdrMsg.confirm_Cancel_Request_ZeroRfnd):confirm(cancelTdrMsg.confirm_Cancel_Request))0==f?$("#cancelListForm\\:cancelbuttonid").attr("disabled","disabled"):$("#txnHistory\\:cancelbuttonid").attr("disabled","disabled"),cancelInputhidefunc(),popup1showfunc(),0==b&&processCancelRequest(cancelpsgn,c)}
function eftSelectFunc(){reason=$("#cancelListForm\\:tdrreasonslistid").val();if(0<reason)if(3==reason||4==reason||5==reason||6==reason||7==reason||15==reason||16==reason||22==reason)$("#cancelListForm\\:eftflagid").is(":checked")?(eftflagval=1,$("#cancelListForm\\:eftnumberid").attr("disabled",!1),$("#cancelListForm\\:eftamountid").attr("disabled",!1),$("#cancelListForm\\:eftdateidInputDate").attr("disabled",!1),$("#cancelListForm\\:eftdateidInputDateIdPopupButton").show()):(eftflagval=2,$("#cancelListForm\\:eftnumberid").val(""),
$("#cancelListForm\\:eftamountid").val(""),$("#cancelListForm\\:eftdateidInputDate").val(""),$("#cancelListForm\\:eftnumberid").attr("disabled",!0),$("#cancelListForm\\:eftamountid").attr("disabled",!0),$("#cancelListForm\\:eftdateidInputDate").attr("disabled",!0),$("#cancelListForm\\:eftdateidInputDateIdPopupButton").hide());else{if($("#cancelListForm\\:eftflagid").is(":checked"))return alert(cancelTdrMsg.TDR_Eft_reason_alert),!1}else return alert(cancelTdrMsg.File_TDR_Reason_Check),!1}
function printCancelClick(a){rows=document.getElementById("ticketdtlsout").getElementsByTagName("tr");var b=rows[0].getElementsByTagName("td"),c=b[3].innerHTML,b=b[1].innerHTML,e=rows[2].getElementsByTagName("td")[1].innerHTML,c=c.replace(/^\s+|\s+$/g,""),c=c+"^C^"+e+"^0^"+b;1==a?window.open(faces_context()+"/printTicket.jsf?pnr\x3d"+c,null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800"):window.open(faces_context_cancel()+"/printTicket.jsf?pnr\x3d"+c,
null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800")}
function printCancelClickHindi(a){rows=document.getElementById("ticketdtlsout").getElementsByTagName("tr");var b=rows[0].getElementsByTagName("td"),c=b[3].innerHTML,b=b[1].innerHTML,e=rows[2].getElementsByTagName("td")[1].innerHTML,c=c.replace(/^\s+|\s+$/g,""),c=c+"^C^"+e+"^1^"+b;1==a?window.open(faces_context()+"/printTicketHindi.jsf?pnr\x3d"+c,null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800"):window.open(faces_context_cancel()+"/printTicketHindi.jsf?pnr\x3d"+
c,null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800")}jQuery.fn.preventDoubleSubmission=function(){$(this).on("submit",function(a){var b=$(this);!0===b.data("submitted")?a.preventDefault():b.data("submitted",!0)});return this};$(document).ready(function(){$("#txnHistory\\:chngbrdngptbuttonid").dblclick(function(){$("#txnHistory\\:chngbrdngptbuttonid").click();$("#txnHistory\\:chngbrdngptbuttonid").attr("disabled","disabled")})});
function validatePnrInput(){var a=document.getElementById("pnrEnquiryInputForm:pnr"),b=/^[0-9]+$/;if(""!=a.value.trim()){if(10!=a.value.trim().length)return alert(txnHistoryMsg.TenDigit_PNRNumber_alert),a.focus(),!1;if(!b.test(a.value.trim()))return alert(txnHistoryMsg.Digit_PNRNumber_alert),a.focus(),!1;if(0==pnrStNumCheck||1==pnrStNumCheck||3==pnrStNumCheck||5==pnrStNumCheck||7==pnrStNumCheck||9==pnrStNumCheck)return alert(txnHistoryMsg.valid_PNRNumber_alert),a.focus(),!1}else alert(txnHistoryMsg.Enter_PNRNumber);
return!0}function printClick(){var a=$("#pnrNo").text(),b=$("#jrnydateid").text(),a=a+"^B^"+b+"^0";window.open(faces_context()+"/printTicket.jsf?pnr\x3d"+a,null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800")}
function printClickHindi(){var a=$("#pnrNo").text(),b=$("#jrnydateid").text(),a=a+"^B^"+b+"^1";window.open(faces_context()+"/printTicketHindi.jsf?pnr\x3d"+a,null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800")}$(document).ready(function(){$("#txnHistory\\:pnr").focus();$("#txnCancelHistory\\:pnr").focus();$("#failedTransactionHistory\\:transac").focus();$("#tdrHistory\\:pnr").focus();$("#refundTxnHistoryformid\\:transac").focus()});
function pnrEnquiryForERS(a){operation="pnrEnquiry";popup1_show();ersflag=!0;processTicketPnr(a,ersflag);return!1}function getPnrEnquiry(){var a=$("#txnHistory input:radio:checked").parents("tr:first");null!=a&&1==a.length?(pnr=a.find("td:eq(3)").text(),operation="pnrEnquiry",popup1_show(),processPnr(pnr)):alert(txnHistoryMsg.Select_PNR_Status_alert);return!1}
function printERS(){var a=$("#txnHistory input:radio:checked").parents("tr:first");null!=a&&1==a.length?(pnr=a.find("td:eq(3)").text(),jDate=a.find("td:eq(7)").text(),operation="pnrEnquiry",popup1_show(),processTicket(pnr,jDate)):alert(txnHistoryMsg.Select_PNR_Print_alert);return!1}
function printTicket(a){var b=document.getElementById("pnrdtls").getElementsByTagName("tr")[0].getElementsByTagName("td")[1].innerHTML,c=document.getElementById("txnHistory:date").innerHTML,b=b+"^B^"+c+"^"+a+"^";"0"==a?window.open(faces_context()+"/printTicket.jsf?pnr\x3d"+b,null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800"):window.open(faces_context()+"/printTicketHindi.jsf?pnr\x3d"+b,null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800")}
function processRadioSelectComplete(a){popup1_hide();$("#txnHistory input[type\x3dradio]").removeAttr("checked");"printTicket"==operation?(operation="",window.open(faces_context()+"/printTicket.jsf",null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800")):"pnrEnquiry"==operation&&(1==a?pnrpopup_show():2==a&&servicenotavalpopup_show())}function processPrintTicket(a,b){0==b&&pnrEnquiryForERS(a);return!1}function hidePopUp(){popup1_hide();return!1}
function validateTxnHistory(){var a=document.getElementById("txnHistory:pnr"),b=document.getElementById("txnHistory:trxnID"),c=/^[0-9]+$/,e=document.getElementById("txnHistory:fromStation"),f=document.getElementById("txnHistory:toStation"),h=document.getElementById("txnHistory:journeyDateInputDate");if(!(null!=b.value&&""!=b.value||null!=a.value&&""!=a.value||null!=h.value&&""!=h.value||null!=e.value&&""!=e.value||null!=f.value&&""!=f.value))return alert(txnHistoryMsg.Atleast_One_InputSearch_alert),
a.focus(),!1;if(""!=a.value){if(!c.test(a.value))return alert(txnHistoryMsg.Digit_PNRNumber_alert),a.focus(),!1;if(10!=a.value.length)return alert(txnHistoryMsg.TenDigit_PNRNumber_alert),a.focus(),!1}if(""!=b.value){if(!c.test(b.value))return alert(txnHistoryMsg.Enter_TxnID_Digit_alert),b.focus(),!1;if(15!=b.value.length)return alert(txnHistoryMsg.Enter_TxnID_15Digit_alert),b.focus(),!1}return""!=e.value&&c.test(e.value)?(alert(txnHistoryMsg.Number_Not_Allow_fromStn_alert),e.focus(),!1):""!=f.value&&
c.test(f.value)?(alert(txnHistoryMsg.Number_Not_Allow_ToStn_alert),f.focus(),!1):!0}
function getPnrEnquiryForCancel(){var a="",b=$("input:radio:checked").parents("tr:first"),c=$("input:radio:checked").val();if(null!=b&&1==b.length){a=$("input:radio:checked").parents("tr:first").find("td:eq(1)").text();a=$("#txnHistory\\:bookedTicketHistoryDataTable\\:"+(a-1)%5+"\\:resId1").val();if("Booked"!=a.trim()&&"Partial Cancelled"!=a.trim())return alert(txnHistoryMsg.Cancel_NOT_Allow_alert),!1;popup1_show();reservationid=b.find("td:eq(2)").text();pnr=b.find("td:eq(3)").text();jrnydate=b.find("td:eq(7)").text();
processCancel(pnr,reservationid,c,jrnydate)}else return alert(txnHistoryMsg.Select_Tkt_For_Cancel_Alert),!1}function processCancelComplete(a,b){popup1_hide();1==b?servicenotavalpopup_show():0==a&&pnrpopup1_show()}function closeInputPopup(){pnrpopup1_hide()}function closeOutputPopup(){canceloutpopup_hide();refreshStatus()}function popup1showfunc(){popup1_show()}function popup1hidefunc(){popup1_hide()}function cancelInputshowfunc(){pnrpopup1_show()}function cancelInputhidefunc(){pnrpopup1_hide()}
function cancelOutputshowfunc(){canceloutpopup_show()}function cancelOutputhidefunc(){canceloutpopup_hide()}function printInstruction(a){var b=document.getElementById("pnrdtls").getElementsByTagName("tr")[0].getElementsByTagName("td")[1].innerHTML,c=document.getElementById("txnHistory:date").innerHTML,b=b+"^B^"+c+"^"+a+"^";"0"==a&&window.open(faces_context()+"/printInstruct.jsf?pnr\x3d"+b,null,"menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes,height\x3d600,width\x3d800")}
function resendBkgSms(){var a=$("#txnHistory input:radio:checked").parents("tr:first");currentDate();document.getElementById("txnHistory:date");if(null!=a&&1==a.length){pnr=a.find("td:eq(3)").text();jdate=a.find("td:eq(7)").text();a=$("input:radio:checked").parents("tr:first").find("td:eq(1)").text();statusSMS=$("#txnHistory\\:bookedTicketHistoryDataTable\\:"+(a%5-1)+"\\:resId1").val();if("Partial Cancelled"!=statusSMS.trim()&&"Booked"!=statusSMS.trim())return alert(txnHistoryMsg.Get_Sms_alert),!1;
processResendSms(pnr)}else alert(txnHistoryMsg.Select_Tkt_For_Resend_Alert);return!1}
function validateCancelHistory(){var a=document.getElementById("txnCancelHistory:pnr"),b=document.getElementById("txnCancelHistory:transac"),c=/^[0-9]+$/,e=document.getElementById("txnCancelHistory:fromStation"),f=document.getElementById("txnCancelHistory:toStation"),h=document.getElementById("txnCancelHistory:cancelDateInputDate");if(!(null!=b.value&&""!=b.value||null!=a.value&&""!=a.value||null!=h.value&&""!=h.value||null!=e.value&&""!=e.value||null!=f.value&&""!=f.value))return alert(txnHistoryMsg.Enter_InputSearch_Alert),
a.focus(),!1;if(""!=a.value){if(10!=a.value.length)return alert(txnHistoryMsg.TenDigit_PNRNumber_alert),a.focus(),!1;if(!c.test(a.value))return alert(txnHistoryMsg.Digit_PNRNumber_alert),a.focus(),!1}if(""!=b.value){if(15!=b.value.length)return alert(txnHistoryMsg.Enter_TxnID_15Digit_alert),b.focus(),!1;if(!c.test(b.value))return alert(txnHistoryMsg.Enter_TxnID_Digit_alert),b.focus(),!1}return!0}
function filterValidationTDRHistory(){var a=$("#tdrHistory\\:pnr").val(),b=$("#tdrHistory\\:transac").val(),c=$("#tdrHistory\\:fromStation").val(),e=$("#tdrHistory\\:toStation").val(),f=$("#tdrHistory\\:journeyDateInputDate").val();if(!(null!=a&&""!=a||null!=b&&""!=b||null!=f&&""!=f||null!=c&&""!=c||null!=e&&""!=e))return alert(txnHistoryMsg.Atleast_One_InputSearch_alert),$("#tdrHistory\\:pnr").focus(),!1;if(""!=a){if(isNaN(a))return alert(txnHistoryMsg.PNRNumber_Numric_Alert),$("#tdrHistory\\:pnr").focus(),
!1;if(10!=a.length&&0!=a.length)return alert(txnHistoryMsg.TenDigit_PNRNumber_alert),$("#tdrHistory\\:pnr").focus(),!1}if(""!=b){if(isNaN(b))return alert(txnHistoryMsg.CancelId_Numric_alert),$("#tdrHistory\\:transac").focus(),!1;if(15!=b.length&&0!=b.length)return alert(txnHistoryMsg.CancelId_15Digit_alert),$("#tdrHistory\\:transac").focus(),!1}}
function filterValidationFailedHistory(){var a=$("#failedTransactionHistory\\:transac").val(),b=$("#failedTransactionHistory\\:fromStation").val(),c=$("#failedTransactionHistory\\:toStation").val(),e=$("#failedTransactionHistory\\:journeyDateInputDate").val(),f=$("#failedTransactionHistory\\:trnsactionDateInputDate").val();if(null!=a&&""!=a||null!=e&&""!=e||null!=f&&""!=f||null!=b&&""!=b||null!=c&&""!=c){if(isNaN(a))return alert(txnHistoryMsg.TxnId_Numric_alert),$("#failedTransactionHistory\\:transac").focus(),
!1;if(15!=a.length&&0!=a.length)return alert(txnHistoryMsg.TxnId_15Digit_alert),$("#failedTransactionHistory\\:transac").focus(),!1}else return alert(txnHistoryMsg.TenDigit_PNRNumber_alert),$("#failedTransactionHistory\\:transac").focus(),!1}
function validateRefundHistory(){var a=document.getElementById("refundTxnHistoryformid:transac"),b=document.getElementById("refundTxnHistoryformid:trxnDateInputDate"),c=/^[0-9]+$/;if(!(null!=a.value&&""!=a.value||null!=b.value&&""!=b.value))return alert(txnHistoryMsg.Enter_InputSearch_Alert),a.focus(),!1;if(""!=a.value){if(!c.test(a.value))return alert(txnHistoryMsg.TxnId_Numric_alert),a.focus(),!1;if(15!=a.value.length)return alert(txnHistoryMsg.TxnId_15Digit_alert),a.focus(),!1}return!0}
function clickEventIE(){if(document.all)return!1}function clickEventNonIE(a){if(document.layers||document.getElementById&&!document.all)if(2==a.which||3==a.which)return!1}document.layers?(document.captureEvents(Event.MOUSEDOWN),document.onmousedown=clickEventNonIE):(document.onmouseup=clickEventNonIE,document.oncontextmenu=clickEventIE);document.oncontextmenu=new Function("return false");
function disableSelection(a){"undefined"!=typeof a.onselectstart?a.onselectstart=function(){return!1}:"undefined"!=typeof a.style.MozUserSelect?a.style.MozUserSelect="none":a.onmousedown=function(){return!1};a.style.cursor="default"}function disableCtrlKeyCombination(a){if(window.event){if(window.event.ctrlKey)return!1}else if(a.ctrlKey)return!1;return!0}
function printTktPage(){processPrintErsEnglish();var a=document.getElementById("printPageButton");a.style.visibility="hidden";window.print();a.style.visibility="visible"}function printTktPageHindi(){processPrintErsHindi();var a=document.getElementById("printPageButtonHindi");a.style.visibility="hidden";window.print();a.style.visibility="visible"}
function changeBoardingPoint(){var a="",b="",c=$("input:radio:checked").parents("tr:first"),e=$("input:radio:checked").val();if(null!=c&&1==c.length){a=$("input:radio:checked").parents("tr:first").find("td:eq(1)").text();a=$("#txnHistory\\:bookedTicketHistoryDataTable\\:"+(a-1)%5+"\\:resId1").val();b=$("input:radio:checked").parents("tr:first").find("td:eq(10)").text();if("Booked"!=a.trim()&&"Partial Cancelled"!=a.trim()||"Yes"==b.trim()||"हां"==b.trim()||$("input:radio:checked").parents("tr:first").find("td:eq(1)").hasClass("ticketType"))return alert(txnHistoryMsg.ChngeBrdng_NOT_Allow_alert),
!1;popup1_show();reservationid=c.find("td:eq(2)").text();pnr=c.find("td:eq(3)").text();processChangeBoardingPoint(pnr,reservationid,e)}else return alert(txnHistoryMsg.Select_Tkt_For_BrdngPtChange_Alert),!1}function processBrdngPointComplete(a,b){popup1_hide();0==a?servicenotavalpopup_show():b&&brdngpntchngepopup_show()}
function changeBrdngpntStart(){var a=!1,b=$("#txnHistory\\:boardingStation").val(),a=$("#txnHistory\\:boardingStation option:selected").text(),c=$("#txnHistory\\:oldbrdnstncode").val();if(0==b.localeCompare(c))return alert(txnHistoryMsg.old_brdng_new_brndg_stn_same),!1;if(a=confirm(formatMessage(txnHistoryMsg.Confirm_BrdngPtChange_Request,a)))brdngpntchngepopup_hide(),popup1showfunc(),processBrdngPointChangeReqest(b)}
function processChangeBrdngPntComplete(a){popup1hidefunc();0==a?servicenotavalpopup_show():brdngpntchngepopup_show()}
(function(a,b){function c(b,c){var h,f;h=b.nodeName.toLowerCase();if("area"===h){h=b.parentNode;f=h.name;if(!b.href||!f||"map"!==h.nodeName.toLowerCase())return!1;h=a("img[usemap\x3d#"+f+"]")[0];return!!h&&e(h)}return(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&e(b)}function e(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,h=/^ui-id-\d+$/;a.ui=a.ui||{};jquery_ui_1_10=a;
a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(c,e){return"number"===typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus();e&&e.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),
scrollParent:function(){var b;b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||
!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var e;c.length&&c[0]!==document;){e=c.css("position");if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(c.css("zIndex"),10),!isNaN(e)&&0!==e)return e;c=c.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){h.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],
{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,e){return!!a.data(b,e[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var e=a.attr(b,"tabindex"),h=isNaN(e);return(h||0<=e)&&c(b,!h)}});a("\x3ca\x3e").outerWidth(1).jquery||a.each(["Width","Height"],function(c,e){function h(b,c,e,g){a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0;e&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||
0);g&&(c-=parseFloat(a.css(b,"margin"+this))||0)});return c}var f="Width"===e?["Left","Right"]:["Top","Bottom"],n=e.toLowerCase(),q={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(c){return c===b?q["inner"+e].call(this):this.each(function(){a(this).css(n,h(this,c)+"px")})};a.fn["outer"+e]=function(b,c){return"number"!==typeof b?q["outer"+e].call(this,b):this.each(function(){a(this).css(n,h(this,b,!0,c)+"px")})}});
a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a("\x3ca\x3e").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?
"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.extend(a.ui,{plugin:{add:function(b,c,e){var h;b=a.ui[b].prototype;for(h in e)b.plugins[h]=b.plugins[h]||[],b.plugins[h].push([c,e[h]])},call:function(a,b,c){var e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<e.length;b++)a.options[e[b][0]]&&e[b][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===
a(b).css("overflow"))return!1;var e=c&&"left"===c?"scrollLeft":"scrollTop",h=!1;if(0<b[e])return!0;b[e]=1;h=0<b[e];b[e]=0;return h}})})(jQuery);
(function(a,b){var c=0,e=Array.prototype.slice,f=a.cleanData;a.cleanData=function(b){for(var c=0,e;null!=(e=b[c]);c++)try{a(e).triggerHandler("remove")}catch(m){}f(b)};a.widget=function(b,c,e){var f,l,n,q,u={},v=b.split(".")[0];b=b.split(".")[1];f=v+"-"+b;e||(e=c,c=a.Widget);a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)};a[v]=a[v]||{};l=a[v][b];n=a[v][b]=function(a,b){if(!this._createWidget)return new n(a,b);arguments.length&&this._createWidget(a,b)};a.extend(n,l,{version:e.version,
_proto:a.extend({},e),_childConstructors:[]});q=new c;q.options=a.widget.extend({},q.options);a.each(e,function(b,e){a.isFunction(e)?u[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},h=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,g;this._super=a;this._superApply=h;g=e.apply(this,arguments);this._super=b;this._superApply=c;return g}}():u[b]=e});n.prototype=a.widget.extend(q,{widgetEventPrefix:l?q.widgetEventPrefix||
b:b},u,{constructor:n,namespace:v,widgetName:b,widgetFullName:f});l?(a.each(l._childConstructors,function(b,c){var e=c.prototype;a.widget(e.namespace+"."+e.widgetName,n,c._proto)}),delete l._childConstructors):c._childConstructors.push(n);a.widget.bridge(b,n)};a.widget.extend=function(c){for(var f=e.call(arguments,1),g=0,m=f.length,l,n;g<m;g++)for(l in f[g])n=f[g][l],f[g].hasOwnProperty(l)&&n!==b&&(a.isPlainObject(n)?c[l]=a.isPlainObject(c[l])?a.widget.extend({},c[l],n):a.widget.extend({},n):c[l]=
n);return c};a.widget.bridge=function(c,f){var g=f.prototype.widgetFullName||c;a.fn[c]=function(m){var l="string"===typeof m,n=e.call(arguments,1),q=this;m=!l&&n.length?a.widget.extend.apply(null,[m].concat(n)):m;l?this.each(function(){var e,f=a.data(this,g);if(!f)return a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+m+"'");if(!a.isFunction(f[m])||"_"===m.charAt(0))return a.error("no such method '"+m+"' for "+c+" widget instance");e=f[m].apply(f,n);if(e!==
f&&e!==b)return q=e&&e.jquery?q.pushStack(e.get()):e,!1}):this.each(function(){var b=a.data(this,g);b?b.option(m||{})._init():a.data(this,g,new f(m,this))});return q}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"\x3cdiv\x3e",options:{disabled:!1,create:null},_createWidget:function(b,e){e=a(e||this.defaultElement||this)[0];this.element=a(e);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=
a.widget.extend({},this.options,this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=a();e!==this&&(a.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===e&&this.destroy()}}),this.document=a(e.style?e.ownerDocument:e.document||e),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,
_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(c,e){var f=c,m,l,n;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof c)if(f={},m=c.split("."),c=m.shift(),m.length){l=f[c]=a.widget.extend({},this.options[c]);for(n=0;n<m.length-1;n++)l[m[n]]=l[m[n]]||{},l=l[m[n]];c=m.pop();if(1===arguments.length)return l[c]===b?null:l[c];l[c]=e}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];f[c]=e}this._setOptions(f);return this},_setOptions:function(a){for(var b in a)this._setOption(b,
a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,e){var f,l=this;"boolean"!==typeof b&&(e=c,c=b,b=!1);e?(c=f=a(c),this.bindings=this.bindings.add(c)):
(e=c,c=this.element,f=this.widget());a.each(e,function(e,g){function u(){if(b||!0!==l.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof g?l[g]:g).apply(l,arguments)}"string"!==typeof g&&(u.guid=g.guid=g.guid||u.guid||a.guid++);var v=e.match(/^(\w+)\s*(.*)$/),z=v[1]+l.eventNamespace;(v=v[2])?f.delegate(v,z,u):c.bind(z,u)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=
this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},
_trigger:function(b,c,e){var f,l=this.options[b];e=e||{};c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(f in b)f in c||(c[f]=b[f]);this.element.trigger(c,e);return!(a.isFunction(l)&&!1===l.apply(this.element[0],[c].concat(e))||c.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(e,f,l){"string"===typeof f&&(f={effect:f});var n,q=f?!0===f||"number"===
typeof f?c:f.effect||c:b;f=f||{};"number"===typeof f&&(f={duration:f});n=!a.isEmptyObject(f);f.complete=l;f.delay&&e.delay(f.delay);if(n&&a.effects&&a.effects.effect[q])e[b](f);else if(q!==b&&e[q])e[q](f.duration,f.easing,l);else e.queue(function(c){a(this)[b]();l&&l.call(e[0]);c()})}})})(jQuery);
(function(a,b){function c(a,b,c){return[parseFloat(a[0])*(u.test(a[0])?b/100:1),parseFloat(a[1])*(u.test(a[1])?c/100:1)]}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,h=Math.max,k=Math.abs,g=
Math.round,m=/left|center|right/,l=/top|center|bottom/,n=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,u=/%$/,v=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,e,g=a("\x3cdiv style\x3d'display:block;position:absolute;width:50px;height:50px;overflow:hidden;'\x3e\x3cdiv style\x3d'height:100px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e");e=g.children()[0];a("body").append(g);c=e.offsetWidth;g.css("overflow","scroll");e=e.offsetWidth;c===e&&(e=g[0].clientWidth);g.remove();return f=c-e},getScrollInfo:function(b){var c=
b.isWindow||b.isDocument?"":b.element.css("overflow-x"),e=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),c="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var c=a.isWindow(b[0]);return{element:b,isWindow:c,isDocument:!!b[0]&&9===b[0].nodeType,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),
scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=function(b){if(!b||!b.of)return v.apply(this,arguments);b=a.extend({},b);var f,w,B,u,x,A,G=a(b.of),t=a.position.getWithinInfo(b.within),s=a.position.getScrollInfo(t),p=(b.collision||"flip").split(" "),r={};A=e(G);G[0].preventDefault&&(b.at="left top");w=A.width;B=A.height;u=A.offset;x=a.extend({},u);a.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,e;1===a.length&&(a=m.test(a[0])?
a.concat(["center"]):l.test(a[0])?["center"].concat(a):["center","center"]);a[0]=m.test(a[0])?a[0]:"center";a[1]=l.test(a[1])?a[1]:"center";c=n.exec(a[0]);e=n.exec(a[1]);r[this]=[c?c[0]:0,e?e[0]:0];b[this]=[q.exec(a[0])[0],q.exec(a[1])[0]]});1===p.length&&(p[1]=p[0]);"right"===b.at[0]?x.left+=w:"center"===b.at[0]&&(x.left+=w/2);"bottom"===b.at[1]?x.top+=B:"center"===b.at[1]&&(x.top+=B/2);f=c(r.at,w,B);x.left+=f[0];x.top+=f[1];return this.each(function(){var e,l,m=a(this),A=m.outerWidth(),n=m.outerHeight(),
q=parseInt(a.css(this,"marginLeft"),10)||0,v=parseInt(a.css(this,"marginTop"),10)||0,K=A+q+(parseInt(a.css(this,"marginRight"),10)||0)+s.width,L=n+v+(parseInt(a.css(this,"marginBottom"),10)||0)+s.height,y=a.extend({},x),J=c(r.my,m.outerWidth(),m.outerHeight());"right"===b.my[0]?y.left-=A:"center"===b.my[0]&&(y.left-=A/2);"bottom"===b.my[1]?y.top-=n:"center"===b.my[1]&&(y.top-=n/2);y.left+=J[0];y.top+=J[1];a.support.offsetFractions||(y.left=g(y.left),y.top=g(y.top));e={marginLeft:q,marginTop:v};a.each(["left",
"top"],function(c,g){if(a.ui.position[p[c]])a.ui.position[p[c]][g](y,{targetWidth:w,targetHeight:B,elemWidth:A,elemHeight:n,collisionPosition:e,collisionWidth:K,collisionHeight:L,offset:[f[0]+J[0],f[1]+J[1]],my:b.my,at:b.at,within:t,elem:m})});b.using&&(l=function(a){var c=u.left-y.left,e=c+w-A,f=u.top-y.top,g=f+B-n,l={target:{element:G,left:u.left,top:u.top,width:w,height:B},element:{element:m,left:y.left,top:y.top,width:A,height:n},horizontal:0>e?"left":0<c?"right":"center",vertical:0>g?"top":0<
f?"bottom":"middle"};w<A&&k(c+e)<w&&(l.horizontal="center");B<n&&k(f+g)<B&&(l.vertical="middle");h(k(c),k(e))>h(k(f),k(g))?l.important="horizontal":l.important="vertical";b.using.call(this,a,l)});m.offset(a.extend(y,{using:l}))})};a.ui.position={fit:{left:function(a,b){var c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft,c=e-g,k=g+b.collisionWidth-f-e;b.collisionWidth>f?0<c&&0>=k?(e=a.left+c+b.collisionWidth-f-e,a.left+=c-e):a.left=0<k&&0>=c?e:c>
k?e+f-b.collisionWidth:e:a.left=0<c?a.left+c:0<k?a.left-k:h(a.left-g,a.left)},top:function(a,b){var c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,c=e-g,k=g+b.collisionHeight-f-e;b.collisionHeight>f?0<c&&0>=k?(e=a.top+c+b.collisionHeight-f-e,a.top+=c-e):a.top=0<k&&0>=c?e:c>k?e+f-b.collisionHeight:e:a.top=0<c?a.top+c:0<k?a.top-k:h(a.top-g,a.top)}},flip:{left:function(a,b){var c=b.within,e=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?c.scrollLeft:
c.offset.left,h=a.left-b.collisionPosition.marginLeft,c=h-g,l=h+b.collisionWidth-f-g,h="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,m="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,n=-2*b.offset[0];if(0>c){if(e=a.left+h+m+n+b.collisionWidth-f-e,0>e||e<k(c))a.left+=h+m+n}else 0<l&&(e=a.left-b.collisionPosition.marginLeft+h+m+n-g,0<e||k(e)<l)&&(a.left+=h+m+n)},top:function(a,b){var c=b.within,e=c.offset.top+c.scrollTop,f=c.height,g=c.isWindow?c.scrollTop:c.offset.top,
h=a.top-b.collisionPosition.marginTop,c=h-g,l=h+b.collisionHeight-f-g,h="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,n=-2*b.offset[1];0>c?(e=a.top+h+m+n+b.collisionHeight-f-e,a.top+h+m+n>c&&(0>e||e<k(c))&&(a.top+=h+m+n)):0<l&&(e=a.top-b.collisionPosition.marginTop+h+m+n-g,a.top+h+m+n>l&&(0<e||k(e)<l)&&(a.top+=h+m+n))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,
arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,e,f,g=document.getElementsByTagName("body")[0];e=document.createElement("div");b=document.createElement(g?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};g&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in c)b.style[f]=c[f];b.appendChild(e);c=g||document.documentElement;c.insertBefore(b,c.firstChild);
e.style.cssText="position: absolute; left: 10.7432222px;";e=a(e).offset().left;a.support.offsetFractions=10<e&&11>e;b.innerHTML="";c.removeChild(b)})()})(jQuery);
(function(a,b){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"\x3cinput\x3e",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,e,f,h=this.element[0].nodeName.toLowerCase(),k="textarea"===h,h="input"===h;this.isMultiLine=k?!0:h?!1:this.element.prop("isContentEditable");this.valueMethod=
this.element[k||h?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly"))e=f=b=!0;else{e=f=b=!1;var h=a.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:b=!0;this._move("previousPage",g);break;case h.PAGE_DOWN:b=!0;this._move("nextPage",g);break;case h.UP:b=!0;this._keyEvent("previous",g);break;case h.DOWN:b=!0;this._keyEvent("next",g);break;case h.ENTER:case h.NUMPAD_ENTER:this.menu.active&&
(b=!0,g.preventDefault(),this.menu.select(g));break;case h.TAB:this.menu.active&&this.menu.select(g);break;case h.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(g),g.preventDefault());break;default:e=!0,this._searchTimeout(g)}}},keypress:function(f){if(b)b=!1,this.isMultiLine&&!this.menu.element.is(":visible")||f.preventDefault();else if(!e){var h=a.ui.keyCode;switch(f.keyCode){case h.PAGE_UP:this._move("previousPage",f);break;case h.PAGE_DOWN:this._move("nextPage",f);
break;case h.UP:this._keyEvent("previous",f);break;case h.DOWN:this._keyEvent("next",f)}}},input:function(a){f?(f=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("\x3cul\x3e").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
{mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(e){e.target===b.element[0]||e.target===c||a.contains(c,e.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});
return}var e=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:e})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value):this.liveRegion.text(e.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();
this.close(a);this.selectedItem=c}});this.liveRegion=a("\x3cspan\x3e",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();
"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0));b||(b=this.element.closest(".ui-front"));b.length||(b=this.document[0].body);return b},_initSource:function(){var b,e,f=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(e,f){f(a.ui.autocomplete.filter(b,e.term))}):"string"===typeof this.options.source?
(e=this.options.source,this.source=function(b,c){f.xhr&&f.xhr.abort();f.xhr=a.ajax({url:e,data:b,dataType:"json",success:function(a){c(a)},error:function(){c([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);
if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&
a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"===typeof b?{label:b,
value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var e=this.menu.element.empty();this._renderMenu(e,b);this.isNewMenu=!0;this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,e){var f=this;a.each(e,function(a,e){f._renderItemData(b,
e)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,e){return a("\x3cli\x3e").append(a("\x3ca\x3e").text(e.label)).appendTo(b)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,
arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")},filter:function(b,e){var f=new RegExp(a.ui.autocomplete.escapeRegex(e),"i");return a.grep(b,function(a){return f.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+
(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})})(jQuery);
(function(a,b){a.widget("ui.menu",{version:"1.10.4",defaultElement:"\x3cul\x3e",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+
this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item \x3e a":function(a){a.preventDefault()},"click .ui-state-disabled \x3e a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var e=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||
(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var e=a(b.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(b,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,
b){var f=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,f)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function e(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$\x26")}var f,h,k,g,m=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);
break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:m=!1,f=this.previousFilter||"",h=String.fromCharCode(b.keyCode),k=!1,clearTimeout(this.filterTimer),h===f?k=!0:h=f+h,g=new RegExp("^"+e(h),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())}),f=k&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(h=String.fromCharCode(b.keyCode),g=new RegExp("^"+e(h),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())})),
f.length?(this.focus(b,f),1<f.length?(this.previousFilter=h,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}m&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup\x3d'true']").length?this.expand(a):this.select(a))},refresh:function(){var b,e=this.options.icons.submenu;b=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);
b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),c=b.prev("a"),k=a("\x3cspan\x3e").addClass("ui-menu-icon ui-icon "+e).data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(k);b.attr("aria-labelledby",c.attr("id"))});b=b.add(this.element);b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,
role:this._itemRole()});b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});b.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu);
this._super(a,b)},focus:function(a,b){var f;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(b);this.active=b.first();f=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",f.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);f=b.children(".ui-menu");f.length&&a&&/^mouse/.test(a.type)&&
this._startOpening(f);this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var e,f,h;this._hasScroll()&&(e=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,f=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-e-f,f=this.activeMenu.scrollTop(),h=this.activeMenu.height(),b=b.height(),0>e?this.activeMenu.scrollTop(f+e):e+b>h&&this.activeMenu.scrollTop(f+e-h+b))},blur:function(a,b){b||clearTimeout(this.timer);
this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(b){var e=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true");b.show().removeAttr("aria-hidden").attr("aria-expanded",
"true").position(e)},collapseAll:function(b,e){clearTimeout(this.timer);this.timer=this._delay(function(){var f=e?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));f.length||(f=this.element);this._close(f);this.blur(b);this.activeMenu=f},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,f){var h;this.active&&(h="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));h&&h.length&&this.active||(h=this.activeMenu.children(".ui-menu-item")[b]());this.focus(f,h)},nextPage:function(b){var e,f,h;this.active?this.isLastItem()||(this._hasScroll()?(f=this.active.offset().top,h=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){e=
a(this);return 0>e.offset().top-f-h}),this.focus(b,e)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(b)},previousPage:function(b){var e,f,h;this.active?this.isFirstItem()||(this._hasScroll()?(f=this.active.offset().top,h=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){e=a(this);return 0<e.offset().top-f+h}),this.focus(b,e)):this.focus(b,this.activeMenu.children(".ui-menu-item").first())):this.next(b)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0);this._trigger("select",b,e)}})})(jQuery);
var jQueryDatePickerOptions={showOn:"button",minDate:0,maxDate:124,numberOfMonths:2,buttonImage:"resources/datepicker/calendarIcon.png",buttonImageOnly:!0,buttonText:"",firstDay:1,stepMonths:2,hideIfNoPrevNext:!0,dateFormat:"dd-mm-yy"},jQueryDatePickerOptionsforTdr={showOn:"button",minDate:-6,maxDate:128,numberOfMonths:2,buttonImage:"resources/datepicker/calendarIcon.png",buttonImageOnly:!0,buttonText:"",firstDay:1,stepMonths:2,hideIfNoPrevNext:!0,dateFormat:"dd-mm-yy"},jQueryDatePickerOptionsforFailedTktHis=
{showOn:"button",maxDate:0,numberOfMonths:2,buttonImage:"resources/datepicker/calendarIcon.png",buttonImageOnly:!0,buttonText:"",firstDay:1,stepMonths:2,hideIfNoPrevNext:!0,dateFormat:"dd-mm-yy"},jQueryDatePickerOptionsforFailedTktHis1={showOn:"button",maxDate:128,numberOfMonths:2,buttonImage:"resources/datepicker/calendarIcon.png",buttonImageOnly:!0,buttonText:"",firstDay:1,stepMonths:2,hideIfNoPrevNext:!0,dateFormat:"dd-mm-yy"},jQueryDatePickerOptionsforTDRhistory={showOn:"button",maxDate:128,numberOfMonths:2,
buttonImage:"resources/datepicker/calendarIcon.png",buttonImageOnly:!0,buttonText:"",firstDay:1,stepMonths:2,hideIfNoPrevNext:!0,dateFormat:"dd/mm/yy"};jQuery.fn.preventDoubleSubmission=function(){$(this).on("submit",function(a){var b=$(this);!0===b.data("submitted")?a.preventDefault():b.data("submitted",!0)});return this};
jquery_ui_1_10.ui.autocomplete.filter=function(a,b){var c=new RegExp(jquery_ui_1_10.ui.autocomplete.escapeRegex("- "+b)+"$","i"),e=new RegExp("^"+jquery_ui_1_10.ui.autocomplete.escapeRegex(b),"i"),f=new RegExp(jquery_ui_1_10.ui.autocomplete.escapeRegex(b),"i"),h=jquery_ui_1_10.grep(a,function(a){return c.test(a.value||a)}),k=h;10>k.length&&(k=jquery_ui_1_10.grep(a,function(a){return!c.test(a.value||a)&&e.test(a.value||a)}),k=$.merge(h,k),10>k.length&&(h=jquery_ui_1_10.grep(a,function(a){return!c.test(a.value||
a)&&!e.test(a.value||a)&&f.test(a.value||a)}),k=jquery_ui_1_10.merge(k,h)));return k.slice(0,10)};
$(document).ready(function(){var a={source:stationName,delay:0,autoFocus:!0};jquery_ui_1_10(document.getElementById("jpform:fromStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("jpform:toStation")).autocomplete(a);"en"!=_languageCode&&setJPHindiLabels();setQbAutoComplete();setCancelAutoComplete();jquery_ui_1_10(document.getElementById("favJourney:fromStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("favJourney:toStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("txnHistory:fromStation")).autocomplete(a);
jquery_ui_1_10(document.getElementById("txnHistory:toStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("txnCancelHistory:fromStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("txnCancelHistory:toStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("failedTransactionHistory:fromStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("failedTransactionHistory:toStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("tdrHistory:fromStation")).autocomplete(a);
jquery_ui_1_10(document.getElementById("tdrHistory:toStation")).autocomplete(a);jquery_ui_1_10("form").preventDoubleSubmission()});
function setJPHindiLabels(){jquery_ui_1_10(document.getElementById("jpform:fromStation")).on("autocompleteselect",function(a,b){var c=b.item.label.split("-")[0],e=$("#jpform\\:hindiNameTxt").text().split(" - ");2==e.length?$("#jpform\\:hindiNameTxt").text(c+" - "+e[1]):$("#jpform\\:hindiNameTxt").text(c)});jquery_ui_1_10(document.getElementById("jpform:toStation")).on("autocompleteselect",function(a,b){var c=b.item.label.split("-")[0],e=$("#jpform\\:hindiNameTxt").text().split(" - ");1<=e.length?
$("#jpform\\:hindiNameTxt").text(e[0]+" - "+c):$("#jpform\\:hindiNameTxt").text(" - "+c)})}function setQbAutoComplete(){var a={source:stationName,delay:0,autoFocus:!0};jquery_ui_1_10(document.getElementById("qbform:fromStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("qbform:toStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("cbform:fromStation")).autocomplete(a);jquery_ui_1_10(document.getElementById("cbform:toStation")).autocomplete(a)}
function setCancelAutoComplete(){var a={source:stationName,delay:0,autoFocus:!0};jquery_ui_1_10(document.getElementById("cancelListForm:filterfromid")).autocomplete(a);jquery_ui_1_10(document.getElementById("cancelListForm:filtertoStnid")).autocomplete(a)}
function valAvalFareEnqData(){var a=!0,b=$("#avlAndFareForm\\:trainNumber").val(),c=$("#avlAndFareForm\\:journeyClass").val(),e=$("#avlAndFareForm\\:journeyDate").val(),f=$("#avlAndFareForm\\:quota").val(),h=$("#avlAndFareForm\\:fromStation").val(),k=$("#avlAndFareForm\\:toStation").val(),g=$("#avlAndFareForm\\:cc").val();null==b||""==b||void 0===b.length||5<b.length?a=!1:null==c||""==c||void 0===c.length||2<c.length?a=!1:null==e||""==e?a=!1:null==f||""==f||void 0===f.length||2<f.length?a=!1:null==
h||""==h||void 0===h.length||4<h.length?a=!1:null==k||""==k||void 0===k.length||4<k.length?a=!1:"true"!=g&&"false"!=g&&(a=!1);a?(_gavlt=0,_gavlt=(new Date).getTime()):(ajaxPopUpHide(),alert("Invalid parameters...."));return a}
function setDetailsToQuickBook(a,b,c,e,f,h){$(document).ready(function(){if(1==h){var k="#qbform\\:";"clusterBookTab"==getCookie("qbjpactive")&&(k="#cbform\\:");$(k+"trainNUmber").val(a);$(k+"fromStation").val(b);$(k+"toStation").val(c);$(k+"class").val(e);$(k+"quota").val(f)}else $("#jpform\\:fromStation").val(b),$("#jpform\\:toStation").val(c)})}arpDate=yesterDay=curDt=toDay=null;function dayDisablementFunction(a){return yesterDay<a.date&&a.date<=arpDate?!0:!1}
function validateTrainNumber(){$("#qbform\\:trainNUmber").val($.trim($("#qbform\\:trainNUmber").val()));if(""!=$("#qbform\\:trainNUmber").val()){if(/[^A-Za-z0-9]/.test($("#qbform\\:trainNUmber").val()))return $("#qbform\\:trainNUmberErr").html('\x3cspan class\x3d"rf-msg-err"\x3e\x3cspan class\x3d"rf-msg-det"\x3eNo special characters or spaces allowed in train number\x3c/span\x3e\x3c/span\x3e'),!1;$("#qbform\\:trainNUmberErr").html("")}}
function checkFromToNotSame(){if(""!=$("#qbform\\:fromStation").val()&&isValidStation($("#qbform\\:toStation").val())){if($("#qbform\\:fromStation").val()==$("#qbform\\:toStation").val())return $("#qbform\\:toStationErr").html('\x3cspan class\x3d"rf-msg-err"\x3e\x3cspan class\x3d"rf-msg-det"\x3eFrom and To station names cannot be the same\x3c/span\x3e\x3c/span\x3e'),!1;$("#qbform\\:toStationErr").html("")}}
var iTktMinDays=null,iTktMinDate=null,mons={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12","01":"01","02":"02","03":"03","04":"04","05":"05","06":"06","07":"07","08":"08","09":"09",10:"10",11:"11",12:"12"};function getDate(a){a=a.split("-");return 3==a.length&&mons[a[1]]?(a=new Date(mons[a[1]]+"/"+a[0]+"/"+a[2]),"Invalid Date"==a.toString()?null:a):null}
function validateJD(a){a||(a="qbform");var b="#"+a+"\\:";if("cbform"==a&&""==$(b+"qbJrnyDateInputDate").val())return alert(jpFormMsg.enter_jrny_date),$("#cbform\\:qbJrnyDateInputDate").focus(),!1;$(b+"trainNUmber").val($.trim($(b+"trainNUmber").val()));if(""==$(b+"trainNUmber").val())return alert(jpFormMsg.enter_train_no),$(b+"trainNUmber").focus(),!1;if(/[^A-Za-z0-9]/.test($(b+"trainNUmber").val()))return alert(jpFormMsg.spl_chars_trainNo),$(b+"trainNUmber").focus(),!1;$(b+"fromStation").val($.trim($(b+
"fromStation").val()));if(""==$(b+"fromStation").val()||!isValidStation($(b+"fromStation").val()))return alert(jpFormMsg.enter_from_stn),$(b+"fromStation").focus(),!1;$(b+"toStation").val($.trim($(b+"toStation").val()));if(""==$(b+"toStation").val()||!isValidStation($(b+"toStation").val()))return alert(jpFormMsg.enter_to_stn),$(b+"toStation").focus(),!1;if(""!=$(b+"fromStation").val()&&$(b+"fromStation").val()==$(b+"toStation").val())return alert(jpFormMsg.same_from_to),$(b+"toStation").focus(),!1;
if("qbform"==a&&""==$(b+"qbJrnyDateInputDate").val())return alert(jpFormMsg.enter_jrny_date),$("#qbform\\:qbJrnyDateInputDate").focus(),!1;if(null!=$(b+"qbJrnyDateInputDate").val()&&($(b+"qbJrnyDateInputDate").val($.trim($(b+"qbJrnyDateInputDate").val())),!isValidRichCalDate($(b+"qbJrnyDateInputDate").val())))return alert(jpFormMsg.inv_richcal_date),$(b+"qbJrnyDateInputDate").focus(),!1;if(""==$(b+"class").val())return alert(jpFormMsg.select_class),$(b+"class").focus(),!1;if(""==$(b+"quota").val())return alert(jpFormMsg.select_quota),
$(b+"quota").focus(),!1;if(1==$(b+"ticketType").length&&"I_TICKET"==$(b+"ticketType").val()){if(""==$(b+"qbJrnyDateInputDate").val())return alert(jpFormMsg.enter_jrny_date),$("#jpform\\:qbJrnyDateInputDate").focus(),!1;if(getDate($(b+"qbJrnyDateInputDate").val())<iTktMinDate)return alert(formatMessage(jpFormMsg.check_itkt_jrny_date,iTktMinDays)),!1;b=$(b+"quota").val();if("TQ"==b||"PT"==b)return alert(jpFormMsg.no_itkt_in_ck),!1}return"cbform"!=a||$("#cbform\\:clusterTermsNConds").is(":checked")?
!0:(alert(jpFormMsg.agree_terms),!1)}
function validateJPJD(){$("#jpform\\:fromStation").val($.trim($("#jpform\\:fromStation").val()));if(""==$("#jpform\\:fromStation").val())return alert(jpFormMsg.enter_from_stn),$("#jpform\\:fromStation").focus(),!1;if(1>$("#jpform\\:fromStation").val().length||25<$("#jpform\\:fromStation").val().length)return alert(jpFormMsg.inv_inp_length),$("#jpform\\:fromStation").focus(),!1;if(!isValidStation($("#jpform\\:fromStation").val()))return alert(jpFormMsg.enter_from_stn),$("#jpform\\:fromStation").focus(),
!1;$("#jpform\\:toStation").val($.trim($("#jpform\\:toStation").val()));if(""==$("#jpform\\:toStation").val())return alert(jpFormMsg.enter_to_stn),$("#jpform\\:toStation").focus(),!1;if(1>$("#jpform\\:toStation").val().length||25<$("#jpform\\:toStation").val().length)return alert(jpFormMsg.inv_inp_length),$("#jpform\\:toStation").focus(),!1;if(!isValidStation($("#jpform\\:toStation").val()))return alert(jpFormMsg.enter_to_stn),$("#jpform\\:toStation").focus(),!1;if(""!=$("#jpform\\:fromStation").val()&&
$("#jpform\\:fromStation").val()==$("#jpform\\:toStation").val())return alert(jpFormMsg.same_from_to),$("#jpform\\:toStation").focus(),!1;if(""==$("#jpform\\:journeyDateInputDate").val())return alert(jpFormMsg.enter_jrny_date),$("#jpform\\:journeyDateInputDate").focus(),!1;if(null!=$("#jpform\\:journeyDateInputDate").val()&&($("#jpform\\:journeyDateInputDate").val($.trim($("#jpform\\:journeyDateInputDate").val())),!isValidRichCalDate($("#jpform\\:journeyDateInputDate").val())))return alert(jpFormMsg.inv_richcal_date),
$("#jpform\\:journeyDateInputDate").focus(),!1;if(1==$("#jpform\\:ticketType").length&&"I_TICKET"==$("#jpform\\:ticketType").val()){if(""==$("#jpform\\:journeyDateInputDate").val())return alert(jpFormMsg.enter_jrny_date),$("#jpform\\:journeyDateInputDate").focus(),!1;if(getDate($("#jpform\\:journeyDateInputDate").val())<iTktMinDate)return alert(formatMessage(jpFormMsg.check_itkt_jrny_date,iTktMinDays)),!1}return!0}
function isValidStation(a){var b=new RegExp(/\b(^[A-Za-z]{1,4}$)|(^[A-Za-z.\s]{1,16}[\s]-[\s][A-Za-z]{1,4}$)\b/);return null!=a&&""!=a&&isInStationArray(a)?b.test(a):!1}function isInStationArray(a){if("en"==_languageCode)return-1!=$.inArray(a,stationName);for(var b=stationName.length,c=0;c<b;c++)if(stationName[c].value==a)return!0;return!1}var jpFromStation=null,jpToStation=null,jpDate=null,jpTicketType=null,concessionPassengers=null;
$(document).ready(function(){jpFromStation=$("#jpform\\:fromStation").val();jpToStation=$("#jpform\\:toStation").val();jpDate=$("#jpform\\:journeyDateInputDate").val();jpTicketType=$("#jpform\\:ticketType").val();concessionPassengers=$("#jpform\\:concessionPassengers").is(":checked")});
function isJpChanged(){return $("#jpform\\:fromStation").val()!=jpFromStation||$("#jpform\\:toStation").val()!=jpToStation||$("#jpform\\:journeyDateInputDate").val()!=jpDate||$("#jpform\\:ticketType").val()!=jpTicketType||$("#jpform\\:concessionPassengers").is(":checked")!=concessionPassengers?!0:!1}$(document).ready(function(){$("#JpSwapFromTo").click(function(){var a=$("#jpform\\:fromStation").val();$("#jpform\\:fromStation").val($("#jpform\\:toStation").val());$("#jpform\\:toStation").val(a)})});
function fetchtktdetail1(){var a=0,a=$("#contentformid1\\:txnidlink1").text();$("#contentformid1\\:txnid2").val(a)}function setActiveTab(a){setCookie("qbjpactive",a);"jbtab"==a?$("#jpform\\:fromStation").focus():"quickbookTab"==a?$("#qbform\\:trainNUmber").focus():"clusterBookTab"==a&&$("#cbform\\:qbJrnyDateInputDate").focus()}$(document).ready(function(){$("#jpform\\:ticketType,#qbform\\:ticketType,#cbform\\:ticketType").change(function(){"I_TICKET"==$(this).val()&&alert(jpFormMsg.itkt_alert)})});
$(document).ready(function(){$("#jpform\\:concessionPassengers,#qbform\\:concessionPassengers,#cbform\\:concessionPassengers").change(function(){$(this).is(":checked")&&alert(jpFormMsg.splConc_alert)})});function checkQuota(a){"HP"==$(a).val()&&alert(jpFormMsg.hndcap_alert)}
function isValidRichCalDate(a){var b=/^(\d{1,2})-(\d{1,2})-(\d{2}|\d{4})$/;if(!b.test(a))return!1;a=a.match(b);d=new Date(parseInt(a[3],10),parseInt(a[2],10)-1,parseInt(a[1],10));return d.getFullYear()!=a[3]||d.getMonth()+1!=a[2]||d.getDate()!=a[1]?!1:!0}var selectedClassArray=[],selectedTrainTypeFlags=[],_languageCode="en",selectedTrains="",vikalpInSpecialTrains=0;function isStationVisible(a){return $("input[type\x3dcheckbox][value\x3d"+a+"]").is(":checked")}
function isClassVisible(a){return $("input[type\x3dcheckbox][value\x3d"+a+"]").is(":checked")}function getRowFromStation(a){return a.find("td").eq(2).text()}function getRowToStation(a){return a.find("td").eq(4).text()}function getRowTrainTypeFlags(a){return a.find("span#ttf").text().split(",")}function getTrainClassArray(a){var b=[];a.find("td:eq(15) a").each(function(a,e){b.push($(e).text())});return b}
function getSelectedClassArray(){var a=[];$("#jpform\\:availJC input:checkbox:checked").each(function(b,c){a.push($(c).val())});return a}function getSelectedTrainTypeFlagArray(){var a=[];$("input[type\x3dcheckbox][name\x3dttfl]:checked").each(function(b,c){a.push($(c).val())});return a}
function applyFilter(a){for(var b=getRowFromStation(a),c=getRowToStation(a),e=!0,e=isStationVisible(b)&&isStationVisible(c)?!0:!1,f=getTrainClassArray(a),b=!1,c=0;c<selectedClassArray.length;++c)if(-1<$.inArray(selectedClassArray[c],f)){b=!0;break}for(var f=!1,h=[],h=getRowTrainTypeFlags(a),c=0;c<selectedTrainTypeFlags.length;++c)if(-1<h.indexOf(selectedTrainTypeFlags[c])){f=!0;break}e&&b&&f?a.show():a.hide()}
function invokeJPFilter(){selectedClassArray=getSelectedClassArray();selectedTrainTypeFlags=getSelectedTrainTypeFlagArray();for(var a=$("#avlAndFareForm\\:trainbtwnstns tbody\x3etr"),b=a.length,c=0;c<b;++c)applyFilter($(a[c]));a=$("#avlAndFareForm\\:flexitrainbtwnstns tbody\x3etr");b=a.length;for(c=0;c<b;++c)applyFilter($(a[c]))}
function formReset(a){$(a.form).find(".rf-msg").each(function(a,c){$(c).text("")});$(a.form).find(":text").each(function(a,c){$(c).val("")});$(a.form).find("select").each(function(a,c){$(c).find("option:eq(0)").attr("selected","selected")});"jpform"==a.form.name?RichFaces.$("jpform:journeyDate").resetValue():"qbform"==a.form.name&&RichFaces.$("qbform:qbJrnyDate").resetValue();return!1}function checkDigit(a){10>a&&(a="0"+a);return a}
function formatMessage(a){for(var b,c=0;c<arguments.length-1;c++)b=new RegExp("\\{"+c+"\\}","g"),a=a.replace(b,arguments[c+1]);return a}function setCookie(a,b,c){var e=new Date;e.setDate(e.getDate()+c);b=escape(b)+(null==c?"":"; expires\x3d"+e.toUTCString());document.cookie=a+"\x3d"+b}
function getCookie(a){var b,c,e,f=document.cookie.split(";");for(b=0;b<f.length;b++)if(c=f[b].substr(0,f[b].indexOf("\x3d")),e=f[b].substr(f[b].indexOf("\x3d")+1),c=c.replace(/^\s+|\s+$/g,""),c==a)return unescape(e)}function deleteCookie(a){setCookie(a,"",-1)}
var SrctznAge,SrctnwAge,minPsgnAge,maxPsgnAge,seniorCitizenApplicable,idCardRequired,foodChoiceEnabled,bedRollEnabled,minNameLength,maxNameLength,maxChildAge,minIdCardLength,maxIdCardLength,selectedQuotaValue,bkgClassCode,childBerthFlag1,suvidhaFlag,trainECFlag,maxPassengers,numberOfPassengerSelected,bedRollOpted,tType,idNonVerPsgns,_concessionBooking,hpQuotaBooking,yatraParchi,busFlag,_dynamicFareFlag,_clusterMainLap,_optionalAadhaarId,_innerLinePermitRequired,_lowFareInHigherClass=!1,_suvidhaTrainFlag,
mobileRegEx=/^[1-9]{1}[0-9]{9}$/,regExNon0=/[^0]/,nonNumericRegEx=/[^0-9]/,_twoSSEligible=!0,_twoSSReleaseFlag,bkgIntTm,_nationalityinputflag,minpassportLength,maxpassportLength,passportpattern,insuranceEnabled=!1,minAgeForInsurance=5,maxAgeFroInsurance=70,_variableFareFlag;$(document).ready(function(){$(".only-numeric").keypress(onlyNumeric)});
function validatePassengerForm(a,b){var c=$(".psgn-name")[0].value;0==$.trim(c).length&&b.push(validatorMsg.first_psgn_must_not_blank);var e=!1,f=!1,h=!1,k=!1,g=null,m=!0,l=0,n=0,q=0,u=!1,v=!1,z=!1;bedRollOpted=!1;var D=0;$(".psgn-name").parent("td").parent("tr").each(function(a){var c=$(this),t=!1,s=c.find(".psgn-name");c.find(".psgn-name,.psgn-age,.psgn-gender,.psgn-foodChoice,.psgn-idcardtype,.psgn-idcardnumber,.psgn-disablePsgnType,.psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt,.psgn-chilldBerth,.psgn-nationality").removeClass("error_field");
if(""!=$.trim(s.val())){q++;h&&!k&&(b.push(formatMessage(validatorMsg.no_contiguous_psgn_input,a)),g&&g.find(".psgn-name").addClass("error_field"));k=h=!1;g=null;m=!0;s.val($.trim(s.val().replace(/\t+/g," ").replace(/\s{2,}/g," ")));validName(s.val())||(b.push(formatMessage(validatorMsg.name_only_alphabates,a+1)),m=!1);validNameLength(s.val())||(b.push(formatMessage(validatorMsg.invalid_adult_name_length,minNameLength,maxNameLength,a+1)),m=!1);m?s.removeClass("error_field"):s.addClass("error_field");
var p=c.find(".psgn-age");validAge(p.val())?(t=!0,p.removeClass("error_field"),disableChildBerthOpt()):(b.push(formatMessage(validatorMsg.invalid_adult_age,minPsgnAge,maxPsgnAge,a+1)),p.addClass("error_field"));var r=c.find(".psgn-gender");"M"!=r.val()&&"F"!=r.val()?(b.push(formatMessage(validatorMsg.no_contiguous_psgn_input,a+1)),r.addClass("error_field")):(t&&"M"==r.val()&&p.val()>maxChildAge&&(f=!0),r.removeClass("error_field"));"LD"==selectedQuotaValue&&"M"==r.val()&&11<p.val()?(b.push(formatMessage(validatorMsg.no_male_in_LD,
a+1)),p.addClass("error_field")):t&&p.removeClass("error_field");"M"==r.val()&&60<=p.val()||"F"==r.val()&&45<=p.val()||(_twoSSEligible=!1);foodChoiceEnabled&&(t=c.find(".psgn-foodChoice"),"V"!=t.val()&&"N"!=t.val()&&"D"!=t.val()?(b.push(formatMessage(validatorMsg.food_choice_required,a+1)),t.addClass("error_field")):t.removeClass("error_field"));idCardRequired&&(s=c.find(".psgn-idcardtype"),p=c.find(".psgn-idcardnumber"),p.val($.trim(p.val())),"NULL_IDCARD"!=s.val()?(s.removeClass("error_field"),
"UNIQUE_ICARD"==s.val()?validAadhaar(p.val())?(e=!0,p.removeClass("error_field")):(b.push(formatMessage(validatorMsg.invalid_aadhaar_number,a+1)),p.addClass("error_field")):0<p.val().length&&validIdCard(p.val())?(e=!0,p.removeClass("error_field")):(b.push(formatMessage(validatorMsg.invalid_id_card_for_psgn,a+1,minIdCardLength,maxIdCardLength)),p.addClass("error_field"))):(p.removeClass("error_field"),0<p.val().length&&validIdCard(p.val())?(p.removeClass("error_field"),s.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_id_card_type,
a+1))):0<p.val().length&&(s.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_id_card_type,a+1)),p.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_id_card_for_psgn,a+1,minIdCardLength,maxIdCardLength)))));0<c.find(".psgn-aadhaarcardnumber").length&&(c.find(".psgn-aadhaarcardnumber").val($.trim(c.find(".psgn-aadhaarcardnumber").val())),""==c.find(".psgn-aadhaarcardnumber").val()||validAadhaar(c.find(".psgn-aadhaarcardnumber").val())?c.find(".psgn-aadhaarcardnumber").removeClass("error_field"):
(c.find(".psgn-aadhaarcardnumber").addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_aadhaar_number,a+1))));bedRollEnabled&&1==c.find(".psgn-bedRollChoice:checked").length&&(bedRollOpted=!0);"LB"==c.find(".psgn-berth-choice").val()||"SL"==c.find(".psgn-berth-choice").val()?l++:""==$.trim(c.find(".psgn-berth-choice").val())&&n++;if(_concessionBooking)if(t=c.find(".psgn-disablePsgnType"),s=c.find(".psgn-disableCardId"),p=c.find(".psgn-disablePsgnDob"),r=c.find(".psgn-disableCardExpDt"),
""==t.val())b.push(formatMessage(validatorMsg.invalid_concession_type,a+1)),t.addClass("error_field");else{t.removeClass("error_field");hpQuotaBooking&&(1!=t.val()&&2!=t.val()?(b.push(formatMessage(validatorMsg.invalid_concession_for_PH,a+1)),t.addClass("error_field")):t.removeClass("error_field"));if(1==t.val()||2==t.val()||3==t.val()||4==t.val()||5==t.val()||6==t.val())""==s.val()?(b.push(formatMessage(validatorMsg.invalid_handicap_card_id,a+1)),s.addClass("error_field")):s.removeClass("error_field"),
""==p.val()?(b.push(formatMessage(validatorMsg.invalid_DoB,a+1)),p.addClass("error_field")):p.removeClass("error_field"),""==r.val()?(b.push(formatMessage(validatorMsg.invalid_card_expiry_date,a+1)),r.addClass("error_field")):r.removeClass("error_field"),2==t.val()&&(s=c.find(".psgn-idcardtype"),p=c.find(".psgn-idcardnumber"),p.val($.trim(p.val())),"NULL_IDCARD"!=s.val()?"PASSPORT"==s.val()?(s.removeClass("error_field"),0<p.val().length&&validPassport(p.val())?p.removeClass("error_field"):(b.push(formatMessage(validatorMsg.invalid_id_for_escort,
a+1,minpassportLength,maxpassportLength)),p.addClass("error_field"))):(s.removeClass("error_field"),0<p.val().length&&validIdCard(p.val())?p.removeClass("error_field"):(b.push(formatMessage(validatorMsg.invalid_id_for_escort,a+1,minIdCardLength,maxIdCardLength)),p.addClass("error_field"))):(p.removeClass("error_field"),0<p.val().length&&validIdCard(p.val())?(p.removeClass("error_field"),s.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_id_type_for_escort,a+1))):(s.addClass("error_field"),
b.push(formatMessage(validatorMsg.invalid_id_type_for_escort,a+1)),p.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_id_for_escort,a+1,minIdCardLength,maxIdCardLength)))));1==t.val()&&(u=!0);2==t.val()&&(v=!0);-1==t.val()&&(z=!0);5==t.val()&&D++}_nationalityinputflag&&(r=c.find(".psgn-nationality"),s=c.find(".psgn-idcardtype"),p=c.find(".psgn-idcardnumber"),t=c.find(".psgn-disablePsgnType"),r.removeClass("error_field")," "==r.val()||null==r.val()?(b.push(formatMessage(validatorMsg.select_valid_nationality,
a+1)),r.addClass("error_field")):("IN"==r.val()&&"NULL_IDCARD"!=s.val()&&(p.removeClass("error_field"),"PASSPORT"==s.val()?0<p.val().length&&validPassport(p.val())||(p.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_passport_for_psgn,a+1,minpassportLength,maxpassportLength))):0<p.val().length&&validIdCard(p.val())||(p.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_id_card_for_psgn,a+1,minIdCardLength,maxIdCardLength)))),"IN"!=r.val()&&(p.removeClass("error_field"),
s.removeClass("error_field"),"PASSPORT"!=s.val()&&(b.push(formatMessage(validatorMsg.passport_id_card_type,a+1)),s.addClass("error_field")),p.val($.trim(p.val())),0<p.val().length&&validPassport(p.val())||(b.push(formatMessage(validatorMsg.invalid_passport_for_psgn,a+1,minpassportLength,maxpassportLength)),p.addClass("error_field"))),_concessionBooking&&2==t.val()&&"IN"==r.val()&&"NULL_IDCARD"==s.val()&&(p.removeClass("error_field"),0<p.val().length&&validIdCard(p.val())?(p.removeClass("error_field"),
s.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_id_type_for_escort,a+1))):(s.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_id_type_for_escort,a+1)),p.addClass("error_field"),b.push(formatMessage(validatorMsg.invalid_id_for_escort,a+1,minIdCardLength,maxIdCardLength))))))}else if(h=!0,g=c,p=c.find(".psgn-age"),r=c.find(".psgn-gender"),""!=$.trim(p.val())||"M"==r.val()||"F"==r.val())s.addClass("error_field"),validAge(p.val())?p.removeClass("error_field"):p.addClass("error_field"),
"M"!=r.val()&&"F"!=r.val()?r.addClass("error_field"):r.removeClass("error_field"),b.push(formatMessage(validatorMsg.no_contiguous_psgn_input,a+1)),k=!0});if(2!=q||"2S"==journeyClass||"FC"==journeyClass||"CC"==journeyClass||"1A"==journeyClass||"EC"==journeyClass)_twoSSEligible=!1;if(_concessionBooking){var w=!1;$(".infant-name").each(function(a){w||(a=$(this),a.val($.trim(a.val().replace(/\t+/g," ").replace(/\s{2,}/g," "))),w=validNameLength($.trim(a.val())))});hpQuotaBooking&&(z&&b.push(validatorMsg.no_GN_psgn_in_PH),
u||w||b.push(validatorMsg.no_HNDCAP_psgn_found));!v||u||w||b.push(validatorMsg.escort_not_allowed_alone)}idCardRequired&&!e&&b.push(validatorMsg.id_mandatory);"LD"==$("#addPassengerForm\\:quotaH").val()&&f&&b.push(formatMessage(validatorMsg.no_adult_male_in_qt,maxChildAge+1));seniorCitizenApplicable&&0<$(".psgn-concopt:enabled:checked").length&&$("#addPassengerForm\\:autoUpgrade").attr("checked",!1);var B=!1;$(".infant-name").parent("td").parent("tr").each(function(a){var c=$(this),e=c.find(".infant-name");
e.val($.trim(e.val().replace(/\t+/g," ").replace(/\s{2,}/g," ")));if(""!=$.trim(e.val())){B&&b.push(formatMessage(validatorMsg.enter_infant_details,a));B=!1;validName($.trim(e.val()))||b.push(formatMessage(validatorMsg.no_spl_char_in_infant_name,a+1));validNameLength($.trim(e.val()))?e.removeClass("error_field"):(b.push(formatMessage(validatorMsg.invalid_infant_name_length,minNameLength,maxNameLength,a+1)),e.addClass("error_field"));var f=c.find(".infant-age");validInfantAge(f.val())?f.removeClass("error_field"):
(b.push(formatMessage(validatorMsg.invalid_infant_age,a+1)),f.addClass("error_field"));c=c.find(".infant-gender");"M"!=c.val()&&"F"!=c.val()?(b.push(formatMessage(validatorMsg.invalid_infant_gender,a+1)),c.addClass("error_field")):c.removeClass("error_field")}else if(B=!0,f=c.find(".infant-age"),c=c.find(".infant-gender"),0<=f.val()||"M"==c.val()||"F"==c.val())b.push(formatMessage(validatorMsg.enter_valid_infant_dtls,a+1)),e.addClass("error_field"),validInfantAge(f.val())||f.addClass("error_field"),
"M"!=c.val()&&"F"!=c.val()&&c.addClass("error_field")});if($(".pref-coach-opt").is(":checked")){$(".coach-id").val($.trim($(".coach-id").val().replace(/\t+/g," ")).toUpperCase());var c=$(".coach-id").val(),I=/^[A-Z]{1}[A-Z0-9]{1,3}$/,x=/[A-Z]/;/[0-9]/.test(c)&&x.test(c)&&I.test(c)?$(".coach-id").removeClass("error_field"):(b.push(validatorMsg.invalid_coach_id),$(".coach-id").addClass("error_field"))}else $(".coach-id").val(""),$(".coach-id").removeClass("error_field");_concessionBooking&&(0<D&&!$(".genList_ChildConfirm").is(":checked")?
(b.push(validatorMsg.genrlistChildConfirm),$(".genList_ChildConfirm").addClass("error_field")):$(".genList_ChildConfirm").removeClass("error_field"));insuranceEnabled&&(0==$("input[name\x3daddPassengerForm\\:travelInsurance]:checked").length?(b.push(validatorMsg.select_insurance_option),$(".travelInsuranceTd").addClass("error_field")):$(".travelInsuranceTd").removeClass("error_field"));$(".mobile-number").val($.trim($(".mobile-number").val()));""!=$(".mobile-number").val()?validMobile($(".mobile-number").val())?
$(".mobile-number").removeClass("error_field"):(b.push(validatorMsg.invalid_mobile_number),$(".mobile-number").addClass("error_field")):(b.push(validatorMsg.invalid_mobile_number),$(".mobile-number").addClass("error_field"));$("#addPassengerForm\\:wakeupStnOptId").is(":checked")&&(c=$("#addPassengerForm\\:wakeupStnId").val(),/^[A-Z]+$/.test(c)||b.push(validatorMsg.select_wakeup_stn));""==$.trim($(".captcha-answer").val())&&""==$("#nlpAnswer").val()?(b.push(validatorMsg.captcha_not_entered),$(".captcha-answer").addClass("error_field")):
$(".captcha-answer").removeClass("error_field");4==$("input[name\x3d'addPassengerForm:bookingCond']:checked").val()&&0==l?b.push(validatorMsg.select_atleast_1_LB):5==$("input[name\x3d'addPassengerForm:bookingCond']:checked").val()&&(2>q?b.push(validatorMsg["1_psgn_for_2_LB"]):2>l&&b.push(validatorMsg.select_atleast_2_LB));"I_TICKET"==tType&&(""==$.trim($(".itkt-addr-flat").val())?(b.push(validatorMsg.iTkt_enter_flat_dtls),$(".itkt-addr-flat").addClass("error_field")):$(".itkt-addr-flat").removeClass("error_field"),
""==$.trim($(".itkt-addr-stateId").val())?(b.push(validatorMsg.iTkt_select_state),$(".itkt-addr-stateId").addClass("error_field")):$(".itkt-addr-stateId").removeClass("error_field"),""==$.trim($(".itkt-addr-city").val())?(b.push(validatorMsg.iTkt_select_city),$(".itkt-addr-city").addClass("error_field")):$(".itkt-addr-city").removeClass("error_field"),""==$.trim($(".itkt-addr-pin").val())?(b.push(validatorMsg.iTkt_enter_PIN),$(".itkt-addr-pin").addClass("error_field")):isValidPin($.trim($(".itkt-addr-pin").val()))?
$(".itkt-addr-pin").removeClass("error_field"):(b.push(validatorMsg.iTkt_enter_PIN),$(".itkt-addr-pin").addClass("error_field")),""!=$.trim($(".itkt-addr-phone").val())?validPhoneNum($(".itkt-addr-phone").val())?$(".itkt-addr-phone").removeClass("error_field"):(b.push(validatorMsg.iTkt_enter_valid_phone),$(".itkt-addr-phone").addClass("error_field")):(b.push(validatorMsg.iTkt_enter_valid_phone),$(".itkt-addr-phone").addClass("error_field")),0<$(".itkt-addr-phoneExt").length&&""!=$.trim($(".itkt-addr-phoneExt").val())&&
(validPhoneExt($(".itkt-addr-phoneExt").val())?$(".itkt-addr-phoneExt").removeClass("error_field"):(b.push(validatorMsg.iTkt_enter_valid_ph_ext),$(".itkt-addr-phoneExt").addClass("error_field"))))}
function showErrorMessage(a,b){if(0<a.length){var c=$("#"+b);if(0<c.length){c.html("");$("\x3cul\x3e\x3c/ul\x3e").appendTo("#"+b);var e=$("#"+b+"\x3eul");$.each(a,function(a,b){e.append("\x3cli\x3e"+b+"\x3c/li\x3e")});$("#"+b).addClass("error_div");$("#"+b).show();$("#gototop").click()}else{var f="";$.each(a,function(a,b){f+=a+1+". "+b+"\n"});alert(f)}}}
function showErrorMessage1(a,b){if(0<a.length){var c=$("#"+b);if(0<c.length){c.html("");$("\x3cspan class\x3d'rf-msg '\x3e\x3c/span\x3e").appendTo("#"+b);var e=$("#"+b+"\x3espan");$.each(a,function(a,b){e.append("\x3cspan class\x3d'rf-msg-err '\x3e\x3cspan class\x3d'rf-msg-det'\x3e"+b+"\x3c/span\x3e\x3c/span\x3e")});$("#"+b).addClass("error_div");$("#"+b).show();$("#gototop").click()}else{var f="";$.each(a,function(a,b){f+=a+1+". "+b+"\n"});alert(f)}}}
function seniorCitizen(a,b){return"M"==b&&a>=SrctznAge?!0:"F"==b&&a>=SrctnwAge?!0:!1}function validIdCard(a){if(a&&a.length>=minIdCardLength&&a.length<=maxIdCardLength){var b=/[A-Za-z0-9]/;if(/[^A-Za-z0-9/\-]/.test(a)||!b.test(a))return!1;a=10<a.length?a.substring(a.length-10):a;return regExNon0.test(a)?!0:!1}return!1}function validPassport(a){return a?a.length>=minpassportLength&&a.length<=maxpassportLength?(new RegExp(passportpattern)).test(a)?!0:!1:!1:!1}
function validAge(a){if(null==a||""==a||isNaN(a))return!1;var b=maxPsgnAge;return a<minPsgnAge||a>b?!1:!0}function validChildAge(a){if(null==a||""==a||isNaN(a))return!1;var b=maxChildAge;return a>=minPsgnAge&&a<=b?!0:!1}function validAdultAge(a){if(null==a||""==a||isNaN(a))return!1;var b=maxPsgnAge;return a>maxChildAge&&a<=b?!0:!1}function validNameLength(a){return a.length<minNameLength||a.length>maxNameLength?!1:!0}function validInfantAge(a){return null==a||""==a||isNaN(a)||0>a||4<a?!1:!0}
function validName(a){return!/[^A-Za-z\s]/.test(a)}function isNumeric(a){return a?!nonNumericRegEx.test(a):!1}function isNonZeroNumeric(a){return a?!nonNumericRegEx.test(a)&&regExNon0.test(a):!1}function validMobile(a){return a?mobileRegEx.test(a):!1}function validAadhaar(a){return a?12==a.length&&isNonZeroNumeric(a):!1}function validPhoneNum(a){return a?3<=a.length&&10>=a.length&&isNonZeroNumeric(a):!1}function validPhoneExt(a){return a?1<=a.length&&5>=a.length&&isNonZeroNumeric(a):!1}
function isValidPin(a){return a?6==a.length&&isNonZeroNumeric(a):!1}function isLeapYear(a){return 0!=a%100&&0==a%4||0==a%100&&0==a%400}function isValidDate(a){if(null==a)return!1;a=a.replace(/-/g,"/").split("/");if(3!=a.length||4!=a[2].length||1>a[1]||12<a[1])return!1;var b=[0,31,28,31,30,31,30,31,31,30,31,30,31];b[2]+=isLeapYear(a[2])?1:0;return 1>a[0]||a[0]>b[a[1]]||"Invalid Date"==new Date(a[1]+"/"+a[0]+"/"+a[2])?!1:!0}
function setPassengerInputValidation(){var a;a=null==_toDay?new Date:_toDay;$(".psgn-name").bind("blur",function(){if(""!=$(this).val()){$(this).val($(this).val().replace(/\t+/g," ").replace(/\s{2,}/g," "));if(!validName($(this).val()))return alert(validatorMsg.alert_name_only_alphabates),$(this).val(""),setFocus(this),!1;validNameLength($(this).val())||(alert(formatMessage(validatorMsg.alert_name_length,minNameLength,maxNameLength)),setFocus(this))}});$(".psgn-age").bind("blur",function(){""!=$(this).val()&&
(isNaN($(this).val())?(alert(validatorMsg.alert_numeric_age),$(this).val(""),setFocus(this)):validAge($(this).val())||(alert(formatMessage(validatorMsg.alert_valid_adult_age,minPsgnAge,maxPsgnAge)),$(this).val(""),setFocus(this)))});$(".psgn-disablePsgnDob").blur(function(){var b=$.trim($(this).val()),b=$(this).val(b.replace(/\//g,"-")).val();null==b||""==b||isValidDate(b)||(alert(validatorMsg.alert_invalid_psgn_dob),setFocus(this));if(null!=b&&""!=b&&isValidDate(b)){var c=b.split("-");new Date(c[1]+
"/"+c[0]+"/"+c[2])>a&&alert(validatorMsg.alert_future_dob);var b=$(this).parent("td").parent("tr"),e=b.find(".psgn-disablePsgnType").val();if(1==e||3==e||4==e||5==e)c=getAge(c[2]+"-"+c[1]+"-"+c[0]),validAge(c)&&b.find(".psgn-age").val(c).trigger("change")}});$(".psgn-disableCardExpDt").blur(function(){var b=$.trim($(this).val()),b=$(this).val(b.replace(/\//g,"-")).val();null==b||""==b||isValidDate(b)||(alert(validatorMsg.alert_invalid_card_expiry_date),setFocus(this));null!=b&&""!=b&&isValidDate(b)&&
(b=b.split("-"),new Date(b[1]+"/"+b[0]+"/"+b[2])<a&&alert(validatorMsg.alert_expired_handicap_card))})}
function setInfantInputValidation(){$(".infant-name").bind("blur",function(){""!=$(this).val()&&(($(this).val($(this).val().replace(/\t+/g," ").replace(/\s{2,}/g," ")),validName($(this).val()))?validNameLength($(this).val())||(alert(formatMessage(validatorMsg.alert_name_length,minNameLength,maxNameLength)),setFocus(this)):(alert(validatorMsg.alert_infant_name_only_alphabate),$(this).val(""),setFocus(this)))})}
function setFocus(a){focusElem=$(a);$.browser.mozilla?setTimeout("focusElem.focus()",0):$(a).focus()}var disableClick=function(a){alert("You cannot change this value");return!1};function loseFocus(a){a&&a.blur()}function onlyNumeric(a){if(8==(a.which?a.which:a.keyCode))return!0;if(window.event)a=a.keyCode;else if(a.which)a=a.which;else return!0;a=String.fromCharCode(a);return/[0-9]/.test(a)}
function chkBedRollSrctzn(){if(bedRollEnabled&&!confirm(validatorMsg.confirm_bedroll_service))return!1;if(seniorCitizenApplicable){var a=null;$(".psgn-concopt:enabled").each(function(){var b=null;_concessionBooking&&(b=$(this).parent("td").parent("tr").find(".psgn-disablePsgnType").val());$(this).is(":checked")||_concessionBooking&&(!_concessionBooking||-1!=b&&""!=b)||(a=null==a?$(this).parent("td").parent("tr").find(".psgn-name").val():a+(", "+$(this).parent("td").parent("tr").find(".psgn-name").val()))});
if(null!=a&&!_clusterOnwardBooking&&!confirm(formatMessage(validatorMsg.confirm_srctzn,a)))return!1}if(_clusterMainLap&&!confirm(formatMessage(validatorMsg.confirm_cluster_dstn_booking,$(".enroute-station option:selected").text(),$(".to-station").text())))return!1;seniorCitizenApplicable&&0<$(".psgn-concopt:enabled:checked").length&&alert(validatorMsg.alert_id_required_for_srctzn);return!0}
$(document).ready(function(){_optionalAadhaarId&&$(".psgn-aadhaarcardnumber").each(function(){$(this).blur(function(){$(this).val($.trim($(this).val()));var a=$(this).val();""==a||validAadhaar(a)||(alert(validatorMsg.alert_optional_aadhaar),setFocus(this))})});$(".psgn-idcardnumber").blur(function(){$(this).val($.trim($(this).val()));if("UNIQUE_ICARD"==$(this).parent("td").parent("tr").find(".psgn-idcardtype").val()){var a=$(this).val();""==a||validAadhaar(a)||alert(validatorMsg.alert_invalid_aadhaar)}})});
var uidMandatory,psgnUidFlag,_toDay=null,journeyClass,_lastHandicapPsgn,_clusterOnwardBooking,_planReturn,errorexist=!1,existingPsgnCount=0,addedPsgnIds=[];
function selectMasterPassenger(){var a;if(uidMandatory){var b=!1,c=!0;for(selectpsgn=a=0;selectpsgn<selectedPsgns.length&&a<maxPassengers;a++,selectpsgn++)"UNIQUE_ICARD"==$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnIdCardTypeH").val()?b=!0:c=!1;if(2==psgnUidFlag&&!b)return alert(psgninputMsg.alert_atleast_1_aadhaar_psgn),!1;if(1==psgnUidFlag&&!c)return alert(psgninputMsg.alert_all_aadhaar_psgn),!1;if(0<idNonVerPsgns&&!confirm(psgninputMsg.alert_not_verified_aadhaar))return!1}b=
$.find(".psgn-name");a=existingPsgnCount;for(selectpsgn=0;selectpsgn<selectedPsgns.length&&a<maxPassengers;a++)$(b[a]).val($("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnNameH").val().substring(0,maxNameLength)),SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:psgnGender",$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnSexH").val()),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnGender").trigger("change"),SetSelectItem("addPassengerForm\\:psdetail\\:"+
a+"\\:berthChoice",$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnBerthPrefH").val()),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnAge").val(getAge($("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnDobH").val())),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnAge").trigger("change"),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").length&&(c=$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnFoodPrefH").val(),
"VEG"==c?$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").val("V"):"NON_VEG"==c&&$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").val("N")),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:concessionOpt").length&&"IN"==$("#addPassengerForm\\:psdetail\\:"+a+"\\:nationality").val()&&(c=$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnConcessionH").val(),"SRCTZN"!=c&&"SRCTNW"!=c||$("#addPassengerForm\\:psdetail\\:"+a+"\\:concessionOpt").attr("checked","checked")),
"IN"==$("#addPassengerForm\\:psdetail\\:"+a+"\\:nationality").val()&&1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").length&&(SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:idCardType",$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnIdCardTypeH").val()),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardNumber").length&&$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardNumber").val($("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnIdCardNumberH").val())),
2==psgnUidFlag&&1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").length&&("UNIQUE_ICARD"==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").val()?($(".psgn-name:eq("+a+"),.psgn-age:eq("+a+"),.psgn-idcardnumber:eq("+a+")").attr("readonly","readonly").attr("onfocus","loseFocus(this);").addClass("readonly"),$(".psgn-gender:eq("+a+"),.psgn-idcardtype:eq("+a+")").attr("onfocus","loseFocus(this);").addClass("readonly")):($(".psgn-name:eq("+a+"),.psgn-age:eq("+a+"),.psgn-idcardnumber:eq("+
a+")").removeAttr("readonly").removeAttr("onfocus").removeClass("readonly"),$(".psgn-gender:eq("+a+"),.psgn-idcardtype:eq("+a+")").removeAttr("onfocus").removeClass("readonly"))),selectpsgn++;2==psgnUidFlag&&a!=maxPassengers&&(a--,$(".psgn-name:gt("+a+"),.psgn-age:gt("+a+"),.psgn-idcardnumber:gt("+a+")").removeAttr("readonly").removeAttr("onfocus").removeClass("readonly"),$(".psgn-gender:gt("+a+"),.psgn-idcardtype:gt("+a+")").removeAttr("onfocus").removeClass("readonly"));hideMstPsgn()}
function resetPsgnDetails(a,b){for(var c=$.find(".psgn-name"),e=a;e<b&&e<c.length;e++)$(c[e]).val(""),$("#addPassengerForm\\:psdetail\\:"+e+"\\:psgnGender option:eq(0)").attr("selected","selected"),$("#addPassengerForm\\:psdetail\\:"+e+"\\:psgnGender").trigger("change"),$("#addPassengerForm\\:psdetail\\:"+e+"\\:berthChoice option:eq(0)").attr("selected","selected"),$("#addPassengerForm\\:psdetail\\:"+e+"\\:psgnAge").val(""),$("#addPassengerForm\\:psdetail\\:"+e+"\\:psgnAge").trigger("change"),1==
$("#addPassengerForm\\:psdetail\\:"+e+"\\:foodChoice").length&&$("#addPassengerForm\\:psdetail\\:"+e+"\\:foodChoice option:eq(0)").attr("selected","selected"),1==$("#addPassengerForm\\:psdetail\\:"+e+"\\:idCardType").length&&($("#addPassengerForm\\:psdetail\\:"+e+"\\:idCardType option:eq(0)").attr("selected","selected"),1==$("#addPassengerForm\\:psdetail\\:"+e+"\\:idCardNumber").length&&$("#addPassengerForm\\:psdetail\\:"+e+"\\:idCardNumber").val(""))}
function selectTravelListPassengers(){var a,b=$("#addPassengerForm\\:numPsgnInTravelList").val();b>maxPassengers&&alert(psgninputMsg.alert_more_psgn_in_travel_list);if(uidMandatory){var c=!1,e=!0;for(selectpsgn=a=0;selectpsgn<b&&a<maxPassengers;a++,selectpsgn++)"UNIQUE_ICARD"==$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnIdCardTypeH").val()?c=!0:e=!1;if(2==psgnUidFlag&&!c)return alert(psgninputMsg.alert_atlease_1_adar_in_travellist),!1;if(1==psgnUidFlag&&!e)return alert(psgninputMsg.alert_all_adar_in_travellist),
!1}c=$.find(".psgn-name");for(selectpsgn=a=0;selectpsgn<b&&a<maxPassengers;a++)$(c[a]).val($("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnNameH").val().substring(0,maxNameLength)),SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:psgnGender",$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnSexH").val()),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnGender").trigger("change"),SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:berthChoice",$("#addPassengerForm\\:travelList\\:"+
selectpsgn+"\\:tlPsgnBerthPrefH").val()),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnAge").val(getAge($("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnDobH").val())),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnAge").trigger("change"),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").length&&(e=$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnFoodPrefH").val(),"VEG"==e?$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").val("V"):"NON_VEG"==e&&$("#addPassengerForm\\:psdetail\\:"+
a+"\\:foodChoice").val("N")),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:concessionOpt").length&&(e=$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnConcessionH").val(),"SRCTZN"!=e&&"SRCTNW"!=e||$("#addPassengerForm\\:psdetail\\:"+a+"\\:concessionOpt").attr("checked","checked")),"IN"==$("#addPassengerForm\\:psdetail\\:"+a+"\\:nationality").val()&&1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").length&&(SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:idCardType",$("#addPassengerForm\\:travelList\\:"+
selectpsgn+"\\:tlPsgnIdCardTypeH").val()),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardNumber").length&&$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardNumber").val($("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnIdCardNumberH").val())),2==psgnUidFlag&&1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").length&&("UNIQUE_ICARD"==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").val()?($(".psgn-name:eq("+a+"),.psgn-age:eq("+a+"),.psgn-idcardnumber:eq("+a+")").attr("readonly",
"readonly").attr("onfocus","loseFocus(this);").addClass("readonly"),$(".psgn-gender:eq("+a+"),.psgn-idcardtype:eq("+a+")").attr("onfocus","loseFocus(this);").addClass("readonly")):($(".psgn-name:eq("+a+"),.psgn-age:eq("+a+"),.psgn-idcardnumber:eq("+a+")").removeAttr("readonly").removeAttr("onfocus").removeClass("readonly"),$(".psgn-gender:eq("+a+"),.psgn-idcardtype:eq("+a+")").removeAttr("onfocus").removeClass("readonly"))),selectpsgn++;2==psgnUidFlag&&a!=maxPassengers&&(a--,$(".psgn-name:gt("+a+
"),.psgn-age:gt("+a+"),.psgn-idcardnumber:gt("+a+")").removeAttr("readonly").removeAttr("onfocus").removeClass("readonly"),$(".psgn-gender:gt("+a+"),.psgn-idcardtype:gt("+a+")").removeAttr("onfocus").removeClass("readonly"));resetPsgnDetails(b,maxPassengers);hideTravelList()}function SetSelectItem(a,b){var c=$("#"+a);c&&c.val(b)}
function getAge(a){var b;b=null==_toDay?new Date:_toDay;a=new Date(a.replace(/-/g,"/"));if(b<a)return 0;var c=0,c=b.getFullYear()-a.getFullYear();return c-=b.getMonth()<a.getMonth()||b.getMonth()==a.getMonth()&&b.getDate()<a.getDate()?1:0}
function disablePsgnInput(){uidMandatory&&($(".psgn-name,.psgn-age,.psgn-idcardnumber").attr("readonly","readonly").attr("onfocus","loseFocus(this);").addClass("readonly"),$(".psgn-gender,.psgn-idcardtype").attr("onfocus","loseFocus(this);").addClass("readonly"))}
function setPsgnCount(){$(".select-master-psgn-link,.select-travel-list-link").bind("click",function(){idNonVerPsgns=numberOfPassengerSelected=0;addedPsgnIds=[];$(".psgn-name").each(function(a){0<$.trim($(this).val()).length&&(numberOfPassengerSelected++,(a=$(this).parent("td").parent("tr").find(".psgn-idcardnumber"))&&0<$.trim(a.val()).length&&addedPsgnIds.push(a.val()))});existingPsgnCount=numberOfPassengerSelected})}
function disableChildBerthOpt(){$(".psgn-name").parent("td").parent("tr").each(function(a){if(childBerthFlag1){var b=$(this);a=b.find(".psgn-age");(""==a.val()||validAdultAge(Number(a.val()))||"2S"==bkgClassCode||"CC"==bkgClassCode||"EC"==bkgClassCode||"FC"==bkgClassCode||"PT"==selectedQuotaValue||suvidhaFlag||trainECFlag)&&b.find(".psgn-chilldBerth").attr("checked",!0).attr("disabled","disabled");a.bind("change",function(){validAge(this.value)&&validChildAge(this.value)&&"2S"!=bkgClassCode&&"CC"!=
bkgClassCode&&"EC"!=bkgClassCode&&"FC"!=bkgClassCode&&"PT"!=selectedQuotaValue&&!suvidhaFlag&&!trainECFlag?(b.find(".psgn-chilldBerth").removeAttr("disabled"),alert(psgninputMsg.child_berth_Opted)):b.find(".psgn-chilldBerth").attr("checked",!0).attr("disabled","disabled").trigger("change")})}})}
function popupMessageChildBerthOpt(){$(".psgn-name").parent("td").parent("tr").find(".psgn-chilldBerth").each(function(a){var b=$(this);b.bind("click",function(){var a=!1,e=!1,a=b.is(":disabled"),e=b.is(":checked");a||(e?alert(psgninputMsg.child_berth_Opted):alert(psgninputMsg.child_berth_Not_Opted))})})}
function disableConcessionOpt(){(seniorCitizenApplicable||_concessionBooking)&&$(".psgn-name").parent("td").parent("tr").each(function(a){var b=$(this),c=b.find(".psgn-age"),e=b.find(".psgn-gender");validAge(c.val())&&seniorCitizen(c.val(),e.val())||b.find(".psgn-concopt").attr("checked",!1).attr("disabled","disabled").trigger("change");c.bind("change",function(){validAge(this.value)&&seniorCitizen(this.value,$(this).parent("td").parent("tr").find(".psgn-gender").val())&&"IN"==$(this).parent("td").parent("tr").find(".psgn-nationality").val()?
b.find(".psgn-concopt").removeAttr("disabled"):b.find(".psgn-concopt").attr("checked",!1).attr("disabled","disabled").trigger("change")});e.bind("change",function(){validAge($(this).parent("td").parent("tr").find(".psgn-age").val())&&seniorCitizen($(this).parent("td").parent("tr").find(".psgn-age").val(),this.value)&&"IN"==$(this).parent("td").parent("tr").find(".psgn-nationality").val()?b.find(".psgn-concopt").removeAttr("disabled"):b.find(".psgn-concopt").attr("checked",!1).attr("disabled","disabled").trigger("change")});
b.find(".psgn-concopt").bind("change",function(){disableAutoUpgrade();$(this).is(":checked")&&_concessionBooking?(b.find(".psgn-disablePsgnType").val(-1).attr("onfocus","loseFocus(this);").addClass("readonly"),b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt,.psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly"),b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("onfocus","loseFocus(this);").addClass("readonly")):b.find(".psgn-disablePsgnType").removeAttr("onfocus").removeClass("readonly");
$(this).is(":checked")&&_optionalAadhaarId&&(b.find(".psgn-aadhaarcardnumber").val($.trim(b.find(".psgn-aadhaarcardnumber").val())),""==b.find(".psgn-aadhaarcardnumber").val()?(alert(formatMessage(psgninputMsg.alert_optional_aadhaar_for_psgn,b.find(".psgn-name").val())),b.find(".psgn-aadhaarcardnumber").focus()):validAadhaar(b.find(".psgn-aadhaarcardnumber").val())||(alert(formatMessage(psgninputMsg.alert_valid_optional_aadhaar_for_psgn,b.find(".psgn-name").val())),setFocus(this)))});_concessionBooking&&
(b.find(".psgn-disablePsgnType").bind("change",function(){var a=$(this).val();_nationalityinputflag?""==a||-1==a?(b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").val("").attr("readonly","readonly").addClass("readonly"),"IN"==b.find(".psgn-nationality").val()?(b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("onfocus","loseFocus(this);").attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly").attr("maxlength",
maxIdCardLength)):(b.find(".psgn-idcardtype").val("PASSPORT").attr("onfocus","loseFocus(this);").attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").removeAttr("readonly").removeClass("readonly").attr("maxlength",maxpassportLength))):(b.find(".psgn-concopt").attr("checked",!1),2!=a?(b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").removeAttr("readonly").removeClass("readonly"),"IN"==b.find(".psgn-nationality").val()?(b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("onfocus",
"loseFocus(this);").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly").attr("maxlength",maxIdCardLength)):(b.find(".psgn-idcardtype").val("PASSPORT").attr("onfocus","loseFocus(this);").attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").removeAttr("readonly").removeClass("readonly").attr("maxlength",maxpassportLength))):("IN"==b.find(".psgn-nationality").val()?(b.find(".psgn-idcardtype").removeAttr("onfocus").removeClass("readonly").prop("disabled",
!1),b.find(".psgn-idcardnumber").removeAttr("readonly").removeClass("readonly").attr("maxlength",maxIdCardLength)):(b.find(".psgn-idcardtype").val("PASSPORT").attr("onfocus","loseFocus(this);").attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").removeAttr("readonly").removeClass("readonly").attr("maxlength",maxpassportLength)),b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").removeAttr("readonly").removeClass("readonly"),b.find(".psgn-disableCardId").val(_lastHandicapPsgn.cardNo),
b.find(".psgn-disablePsgnDob").val(_lastHandicapPsgn.dob),b.find(".psgn-disableCardExpDt").val(_lastHandicapPsgn.doe))):""==a||-1==a?(b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt,.psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly"),b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("onfocus","loseFocus(this);").prop("disabled",!0)):(b.find(".psgn-concopt").attr("checked",!1),2!=a?(b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").removeAttr("readonly").removeClass("readonly"),
b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("onfocus","loseFocus(this);").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly")):(b.find(".psgn-disableCardId").val(_lastHandicapPsgn.cardNo),b.find(".psgn-disablePsgnDob").val(_lastHandicapPsgn.dob),b.find(".psgn-disableCardExpDt").val(_lastHandicapPsgn.doe),b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt,.psgn-idcardnumber").removeAttr("readonly").removeClass("readonly"),
b.find(".psgn-idcardtype").removeAttr("onfocus").removeClass("readonly").prop("disabled",!1)));noOfPressChildpass=0;$(".psgn-name").parent("td").parent("tr").each(function(a){5==$(this).find(".psgn-disablePsgnType").val()&&noOfPressChildpass++});0<noOfPressChildpass?$("#genListChild").css("display","block"):$("#genListChild").css("display","none");disableAutoUpgrade()}),b.find(".psgn-disableCardId").bind("change",function(){$(this).val($.trim($(this).val()).toUpperCase());populateEscotDtls(b,a)}),
b.find(".psgn-disablePsgnType,.psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").bind("change",function(){var a=b.find(".psgn-disablePsgnType").val();1==a&&(_lastHandicapPsgn=new HandicapPassenger(a,b.find(".psgn-disableCardId").val(),b.find(".psgn-disablePsgnDob").val(),b.find(".psgn-disableCardExpDt").val()))}))})}
function changenationality(){_nationalityinputflag&&(_clusterOnwardBooking||_planReturn?$(".psgn-name").parent("td").parent("tr").each(function(a){a=$(this);if(_concessionBooking||seniorCitizenApplicable)validAge(a.find(".psgn-age").val())&&seniorCitizen(a.find(".psgn-age").val(),a.find(".psgn-gender").val())&&"IN"==a.find(".psgn-nationality").val()?a.find(".psgn-concopt").removeAttr("disabled"):a.find(".psgn-concopt").attr("checked",!1).attr("disabled","disabled").trigger("change")}):$(".psgn-name").parent("td").parent("tr").each(function(a){var b=
$(this);if($("#addPassengerForm_errorloc").is(":hidden"))for(a=0;a<maxPassengers;a++)$("#addPassengerForm\\:psdetail\\:"+a+"\\:nationality option:eq(0)").attr("selected","selected");b.find(".psgn-nationality").bind("change",function(){var a=$(this).val();if(_concessionBooking||seniorCitizenApplicable)validAge(b.find(".psgn-age").val())&&seniorCitizen(b.find(".psgn-age").val(),b.find(".psgn-gender").val())&&"IN"==b.find(".psgn-nationality").val()?b.find(".psgn-concopt").removeAttr("disabled"):(b.find(".psgn-concopt").attr("checked",
!1).attr("disabled","disabled").trigger("change"),validAge(b.find(".psgn-age").val())&&seniorCitizen(b.find(".psgn-age").val(),b.find(".psgn-gender").val())&&alert(validatorMsg.alert_onlyindian_for_srctzn));if(_concessionBooking){var e=b.find(".psgn-disablePsgnType");errorexist?2==e.val()?"IN"==a?(b.find(".psgn-idcardtype").val(b.find(".psgn-idcardtype").val()).removeAttr("readonly").removeClass("readonly").prop("disabled",!1),b.find(".psgn-idcardnumber").val(b.find(".psgn-idcardnumber").val()).removeAttr("readonly").removeClass("readonly").attr("maxlength",
maxIdCardLength)):(b.find(".psgn-idcardtype").val("PASSPORT").attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val(b.find(".psgn-idcardnumber").val()).removeAttr("readonly").removeClass("readonly").attr("maxlength",maxpassportLength)):"IN"==a?(b.find(".psgn-idcardtype").val(b.find(".psgn-idcardtype").val()).attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val(b.find(".psgn-idcardnumber").val()).attr("readonly","readonly").addClass("readonly").attr("maxlength",
maxIdCardLength)):(b.find(".psgn-idcardtype").val("PASSPORT").attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val(b.find(".psgn-idcardnumber").val()).removeAttr("readonly").removeClass("readonly").attr("maxlength",maxpassportLength)):2==e.val()?"IN"==a?(b.find(".psgn-idcardtype").val("NULL_IDCARD").removeAttr("readonly").removeClass("readonly").prop("disabled",!1),b.find(".psgn-idcardnumber").val("").removeAttr("readonly").removeClass("readonly").attr("maxlength",maxIdCardLength)):
(b.find(".psgn-idcardtype").val("PASSPORT").attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").removeAttr("readonly").removeClass("readonly").attr("maxlength",maxpassportLength)):"IN"==a?(b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly").attr("maxlength",maxIdCardLength)):(b.find(".psgn-idcardtype").val("PASSPORT").attr("readonly","readonly").prop("disabled",
!0),b.find(".psgn-idcardnumber").val("").removeAttr("readonly").removeClass("readonly").attr("maxlength",maxpassportLength))}else errorexist?"IN"==a?(b.find(".psgn-idcardtype").val(b.find(".psgn-idcardtype").val()).attr("onfocus","loseFocus(this);").prop("disabled",!0),b.find(".psgn-idcardnumber").val(b.find(".psgn-idcardnumber").val()).attr("readonly","readonly").addClass("readonly").attr("maxlength",maxIdCardLength)):(b.find(".psgn-idcardtype").val("PASSPORT").attr("readonly","readonly").prop("disabled",
!0),b.find(".psgn-idcardnumber").val(b.find(".psgn-idcardnumber").val()).removeAttr("readonly").removeClass("readonly").attr("maxlength",maxpassportLength)):"IN"==a?(b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("onfocus","loseFocus(this);").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly").attr("maxlength",maxIdCardLength)):(b.find(".psgn-idcardtype").val("PASSPORT").attr("readonly","readonly").prop("disabled",!0),b.find(".psgn-idcardnumber").val("").removeAttr("readonly").removeClass("readonly").attr("maxlength",
maxpassportLength))})}))}var HandicapPassenger=function(a,b,c,e){this.pType=a;this.cardNo=b;this.dob=c;this.doe=e};
function populateEscotDtls(a,b){var c=a.find(".psgn-disableCardId").val();$(".psgn-name").parent("td").parent("tr").each(function(e){e!=b&&(e=$(this),e.find(".psgn-disableCardId").val()==c&&(2==a.find(".psgn-disablePsgnType").val()&&a.find(".psgn-disablePsgnDob").val(e.find(".psgn-disablePsgnDob").val()),a.find(".psgn-disableCardExpDt").val(e.find(".psgn-disableCardExpDt").val())))})}
function disableAutoUpgrade(){"1A"!=journeyClass&&(0<$(".psgn-concopt:enabled:checked").length||_concessionBooking&&isConcessionOpted()?$("#addPassengerForm\\:autoUpgrade").attr("checked",!1).attr("disabled","disabled"):$("#addPassengerForm\\:autoUpgrade").removeAttr("disabled"))}function isHandicapOpted(){var a=!1;$(".psgn-disablePsgnType").each(function(){var b=$(this).val();if(1==b||2==b)a=!0});return a}
function isConcessionOpted(){var a=!1;$(".psgn-disablePsgnType").each(function(){var b=$(this).val();-1!=b&&""!=b&&(a=!0)});return a}function highlight(a){$(document.getElementById(a)).addClass("highlight")}function downplay(a){$(document.getElementById(a)).removeClass("highlight")}
function initPassengerDetails(){setPsgnCount();disableConcessionOpt();disableChildBerthOpt();popupMessageChildBerthOpt();setPassengerInputValidation();disablePsgnInput();disableAutoUpgrade();changenationality();_concessionBooking&&($(".psgn-disablePsgnDob,.psgn-disableCardExpDt").attr("placeholder","dd-mm-yyyy"),$(".psgn-disablePsgnType").each(function(){$(this).trigger("change")}));_nationalityinputflag&&$(".psgn-nationality").each(function(){$(this).trigger("change")});if(_clusterOnwardBooking||
_planReturn)$(".psgn-name,.psgn-age,.psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").attr("readonly","readonly").attr("onfocus","loseFocus(this);").addClass("readonly"),$(".psgn-concopt,.psgn-bedRollChoice").attr("onfocus","loseFocus(this);").addClass("readonly"),$(".psgn-idcardnumber").attr("readonly","readonly").attr("onfocus","loseFocus(this);").addClass("readonly"),$(".psgn-nationality,.psgn-idcardtype,.psgn-gender,.psgn-disablePsgnType").attr("readonly","readonly").attr("onfocus",
"loseFocus(this);").prop("disabled",!0);errorexist=!1}
function shAddr(){var a="";""!=$.trim($(".itkt-addr-flat").val())&&(a+=$.trim($(".itkt-addr-flat").val())+",\x3cbr/\x3e");""!=$.trim($(".itkt-addr-street").val())&&(a+=$.trim($(".itkt-addr-street").val())+",\x3cbr/\x3e");""!=$.trim($(".itkt-addr-colony").val())&&(a+=$.trim($(".itkt-addr-colony").val())+",\x3cbr/\x3e");""!=$(".itkt-addr-city").val()&&(a+=$(".itkt-addr-city").val()+",\x3cbr/\x3e");""!=$(".itkt-addr-stateId").val()&&(a+=$(".itkt-addr-stateId").val()+",\x3cbr/\x3e");""!=$.trim($(".itkt-addr-pin").val())&&
(a+="PIN - "+$.trim($(".itkt-addr-pin").val())+",\x3cbr/\x3e");$("#iTktAddr").html(a);$("#iTktPhone").html($(".itkt-addr-phone").val())}
(function(a){a.fn.hoverIntent=function(b,c){var e={sensitivity:7,interval:100,timeout:0},e=a.extend(e,c?{over:b,out:c}:b),f,h,k,g,m=function(a){f=a.pageX;h=a.pageY},l=function(b,c){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);if(Math.abs(k-f)+Math.abs(g-h)<e.sensitivity)return a(c).unbind("mousemove",m),c.hoverIntent_s=1,e.over.apply(c,[b]);k=f;g=h;c.hoverIntent_t=setTimeout(function(){l(b,c)},e.interval)},n=function(b){for(var c=("mouseover"==b.type?b.fromElement:b.toElement)||b.relatedTarget;c&&
c!=this;)try{c=c.parentNode}catch(f){c=this}if(c==this)return!1;var h=jQuery.extend({},b),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t));"mouseover"==b.type?(k=h.pageX,g=h.pageY,a(n).bind("mousemove",m),1!=n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){l(h,n)},e.interval))):(a(n).unbind("mousemove",m),1==n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);n.hoverIntent_s=0;e.out.apply(n,[h])},e.timeout)))};return this.mouseover(n).mouseout(n)}})(jQuery);
$(document).ready(function(){function a(){$(this).find(".sub").stop().fadeTo("fast",.9).show();(function(a){jQuery.fn.calcSubWidth=function(){rowWidth=0;a(this).find("ul").each(function(){rowWidth+=a(this).width()})}})(jQuery);if(0<$(this).find(".row").length){var a=0;$(this).find(".row").each(function(){$(this).calcSubWidth();rowWidth>a&&(a=rowWidth)});$(this).find(".sub").css({width:a});$(this).find(".row:last").css({margin:"0"})}else $(this).calcSubWidth(),$(this).find(".sub").css({width:rowWidth})}
function b(){$(this).find(".sub").stop().fadeTo("fast",0,function(){$(this).hide()})}var c={sensitivity:2,interval:100,over:a,timeout:300,out:b};$("ul#topnav li .sub").css({opacity:"0"});$("ul#topnav li").hoverIntent(c);$("ul#topnav li").focusin(a);$("ul#topnav li").focusout(b)});var _actFrom,_actTo,_ticketType,_returnTicket=!1,_gavlt=0,_handicapPsgns=!1,_loyaltyRedemptionBooking=!1,reasonType,_atasenqenableflag,_atasOptedClick=!1,_ataswaitpopupmssec;
function validateJpBookForm(a){if(!isValidJpBookFormInputs())return alert(tbisMsg.inv_param),!1;a=$(a);if(a.data("clicked"))return!1;a.data("clicked",!0);return!0}
function isValidJpBookFormInputs(){var a=$.trim($("#jpBookForm\\:jpTrainNumber").val()),b=$.trim($("#jpBookForm\\:jpFromStationCode").val()),c=$.trim($("#jpBookForm\\:jpToStationCode").val()),e=$.trim($("#jpBookForm\\:jpJourneydate").val()),f=$.trim($("#jpBookForm\\:jpJourneyClass").val()),h=$.trim($("#jpBookForm\\:jpJourneyQuota").val()),k=$.trim($("#jpBookForm\\:jpTicketType").val());return validTrain(a)&&validStationCode(b)&&validStationCode(c)&&""!=e&&validDate(e)&&null!=f&&""!=f&&void 0!==f.length&&
2==f.length&&null!=h&&""!=h&&void 0!==h.length&&2==h.length&&("I_TICKET"==k||"E_TICKET"==k)?!0:!1}function validDate(a){return a&&(a=a.split("-"),3==a.length)?"Invalid Date"==new Date(a[1]+"/"+a[0]+"/"+a[2])?!1:!0:!1}function validTrain(a){return a?""==a||/[^A-Za-z0-9]/.test(a)||5<a.length?!1:!0:!1}function validStationCode(a){var b=new RegExp(/\b(^[A-Za-z]{1,4}$)\b/);return null!=a&&""!=a?b.test(a):!1}var tempTr;
function availFareEnq(a,b,c,e,f,h,k){isJpChanged()?alert(tbisMsg.changed_jrny_dtls):(tempTr=$(a),a=$("#qcbd input").filter(":checked").val(),null!=a?(showTbisPopup(),$("#avlAndFareForm\\:trainNumber").val(b),$("#avlAndFareForm\\:journeyClass").val(e),$("#avlAndFareForm\\:journeyDate").val(c),$("#avlAndFareForm\\:quota").val(a),$("#avlAndFareForm\\:fromStation").val(f),$("#avlAndFareForm\\:toStation").val(h),$("#avlAndFareForm\\:cc").val(k),$("#avlAndFareForm\\:tktType").val(_ticketType),$("#avlAndFareForm\\:addtab").click(),
$("#enqOutPanel").hide()):alert(tbisMsg.select_qt))}
function ajaxComplete(a){ajaxPopUpHide();a=document.getElementById("avlAndFareForm:cc").value;$("#tabContent").css("padding","5px");$("#tabContent").css("padding","10px");if("true"==a){var b=$("#avlAndFareForm\\:trainNumber").val()+"-"+$("#avlAndFareForm\\:journeyClass").val()+"-"+$("#avlAndFareForm\\:quota").val();func(a,b)}else a="c"+$(".ctab").attr("id").substr(1),$("#"+a).html(""),$("#"+a).html($("#enqpanelid1-outer").html());null!=tempTr&&(tempTr.parents("tr:first").addClass("visited-row"),tempTr=
null);$("html").scrollTop()>$("#tabul").offset().top&&$("html,body").animate({scrollTop:$("#tabul").offset().top-15},"slow");0<_gavlt&&(a=(new Date).getTime()-_gavlt,b=$("#avlAndFareForm\\:fromStation").val()+"-"+$("#avlAndFareForm\\:toStation").val(),ga("send","timing",{timingCategory:"Ajax",timingVar:"AvlEnq",timingValue:a,timingLabel:b}),_gavlt=0)}
function jpBook(a,b,c,e,f,h,k,g,m,l,n,q){if(isJpChanged())alert(tbisMsg.changed_jrny_dtls);else if(!differentJD(c,e)||confirm(formatMessage(tbisMsg.from_to_mismatch,_actFrom,_actTo,c,e)))"GMTO"!=e&&"NHLN"!=e||alert(tbisMsg.ilp_required),showTbisPopup(),$("#jpBookForm\\:jpTrainNumber").val(b),$("#jpBookForm\\:jpFromStationCode").val(c),$("#jpBookForm\\:jpToStationCode").val(e),$("#jpBookForm\\:jpJourneydate").val(f),$("#jpBookForm\\:jpJourneyClass").val(h),$("#jpBookForm\\:jpJourneyQuota").val(k),
$("#jpBookForm\\:jpAvlSts").val(g),$("#jpBookForm\\:jpTicketType").val(_ticketType),$("#jpBookForm\\:jpReturnTkt").val(_returnTicket),$("#jpBookForm\\:isHandicapPsgns").val(_handicapPsgns),$("#jpBookForm\\:isCurrentBooking").val(m),$("#jpBookForm\\:loyaltyRedemptionBooking")&&$("#jpBookForm\\:loyaltyRedemptionBooking").val(_loyaltyRedemptionBooking),$("#jpBookForm\\:t").val(l),$("#jpBookForm\\:c").val(n),hideTbisPopup(),1!=g&&2!=g&&"PT"!=k&&"TQ"!=k&&1==_atasenqenableflag?(_atasOptedClick=!0,alternatePopUpShow(),
setTimeout(function(){alternatePopUpHide();jpAABook(b,c,e,h,k,g,m,q,f)},_ataswaitpopupmssec)):$("#jpBookForm\\:jpBookNow").click()}
function jpAABook(a,b,c,e,f,h,k,g,m){if(isJpChanged())alert(tbisMsg.changed_jrny_dtls);else if(!differentJD(b,c)||_atasOptedClick||confirm(formatMessage(tbisMsg.from_to_mismatch,_actFrom,_actTo,b,c)))$("#aaform\\:aaTrainNumber").val(a),$("#aaform\\:aaFromStationCode").val(b),$("#aaform\\:aaToStationCode").val(c),$("#aaform\\:aaJourneydate").val(m),$("#aaform\\:aaJourneyClass").val(e),$("#aaform\\:aaJourneyQuota").val(f),$("#aaform\\:aaTicketType").val(_ticketType),$("#aaform\\:aaFlexiFlag").val(_flexiAvlFlag),
$("#aaform\\:aaHandicapFlag").val(_handicapPsgns),$("#aaform\\:aajpReturnTkt").val(_returnTicket),$("#aaform\\:aaisCurrentBooking").val(k),$("#aaform\\:aajpAvlSts").val(h),$("#aaform\\:aaloyaltyRedemptionBooking")&&$("#aaform\\:aaloyaltyRedemptionBooking").val(_loyaltyRedemptionBooking),_atasOptedClick?$("#aaform\\:aaReasonType").val(g):$("#aaform\\:aaReasonType").val("E"),$("#aaform\\:aaTrainLink").click()}
function jpAABookClass(a,b,c,e,f,h,k,g,m){if(isJpChanged())alert(tbisMsg.changed_jrny_dtls);else if(!differentJD(b,c)||confirm(formatMessage(tbisMsg.from_to_mismatch,_actFrom,_actTo,b,c)))$("#aaform\\:aaTrainNumber").val(a),$("#aaform\\:aaFromStationCode").val(b),$("#aaform\\:aaToStationCode").val(c),$("#aaform\\:aaJourneydate").val(jpDate),$("#aaform\\:aaFlexidate").val(h),$("#aaform\\:aaJourneyClass").val(e),$("#aaform\\:aaJourneyQuota").val(f),$("#aaform\\:aaTicketType").val(_ticketType),$("#aaform\\:aaFlexiFlag").val(_flexiAvlFlag),
$("#aaform\\:aaHandicapFlag").val(_handicapPsgns),$("#aaform\\:aajpReturnTkt").val(_returnTicket),$("#aaform\\:aaisCurrentBooking").val(g),$("#aaform\\:aajpAvlSts").val(k),$("#aaform\\:aaloyaltyRedemptionBooking")&&$("#aaform\\:aaloyaltyRedemptionBooking").val(_loyaltyRedemptionBooking),$("#aaform\\:aaReasonType").val(m),$("#aaform\\:aaClassTrainLink").click()}function differentJD(a,b){return a!=_actFrom||b!=_actTo?!0:!1}
$(document).ready(function(){$(document.getElementById("avlAndFareForm_submitLink")).hide();$("#qcbd input[value\x3dGN]").eq(0).attr("checked","checked");$("#avlAndFareForm\\:trainbtwnstns thead th").each(function(a){a=$(this);(a.hasClass("trainno")||a.hasClass("departure")||a.hasClass("arrival")||a.hasClass("distance")||a.hasClass("tvltime"))&&$(this).hover(function(){var a=$(this);a.removeClass("rf-dt-shdr-c");a.addClass("active-column")},function(){var a=$(this);a.removeClass("active-column");
a.addClass("rf-dt-shdr-c")});$("#avlAndFareForm\\:trainbtwnstns thead th div").each(function(a){a=$(this);a.css("float","right");a.hide()});$(this).click(function(){var a=$("#up",this),c=$("#down",this);a.is(":visible")||c.is(":visible")?a.is(":visible")&&!c.is(":visible")?(a.hide(),a.removeClass("up-hdr"),c.show(),c.addClass("down-hdr"),jptableSort(this,!1)):!a.is(":visible")&&c.is(":visible")&&(c.hide(),c.removeClass("down-hdr"),a.show(),a.addClass("up-hdr"),jptableSort(this,!0)):(a.show(),a.addClass("up-hdr"),
isSorted=!0,jptableSort(this,!0));var e=$(this).get(0);$("#avlAndFareForm\\:trainbtwnstns thead th").each(function(a){$(this).get(0)!=e&&$("div",this).each(function(a){a=$(this);a.removeClass("down-hdr");a.removeClass("up-hdr");a.hide()})})})});$("#avlAndFareForm\\:trainbtwnstns tbody tr").each(function(a){$(this).hover(function(){$(this).addClass("active-row")},function(){$(this).removeClass("active-row")})});$("#avlAndFareForm\\:trainbtwnstns thead th").eq(3).click();$("#avlAndFareForm\\:flexitrainbtwnstns thead th").each(function(a){a=
$(this);(a.hasClass("trainno")||a.hasClass("departure")||a.hasClass("arrival")||a.hasClass("distance")||a.hasClass("tvltime"))&&$(this).hover(function(){var a=$(this);a.removeClass("rf-dt-shdr-c");a.addClass("active-column")},function(){var a=$(this);a.removeClass("active-column");a.addClass("rf-dt-shdr-c")});$("#avlAndFareForm\\:flexitrainbtwnstns thead th div").each(function(a){a=$(this);a.css("float","right");a.hide()});$(this).click(function(){var a=$("#up",this),c=$("#down",this);a.is(":visible")||
c.is(":visible")?a.is(":visible")&&!c.is(":visible")?(a.hide(),a.removeClass("up-hdr"),c.show(),c.addClass("down-hdr"),jptableSortflx(this,!1)):!a.is(":visible")&&c.is(":visible")&&(c.hide(),c.removeClass("down-hdr"),a.show(),a.addClass("up-hdr"),jptableSortflx(this,!0)):(a.show(),a.addClass("up-hdr"),isSorted=!0,jptableSortflx(this,!0));var e=$(this).get(0);$("#avlAndFareForm\\:flexitrainbtwnstns thead th").each(function(a){$(this).get(0)!=e&&$("div",this).each(function(a){a=$(this);a.removeClass("down-hdr");
a.removeClass("up-hdr");a.hide()})})})});$("#avlAndFareForm\\:flexitrainbtwnstns tbody tr").each(function(a){$(this).hover(function(){$(this).addClass("active-row")},function(){$(this).removeClass("active-row")})});$("#avlAndFareForm\\:flexitrainbtwnstns thead th").eq(3).click()});
function jptableSort(a,b){var c=$("#avlAndFareForm\\:trainbtwnstns tbody").eq(0).find("tr").get();a=$(a);c.sort(function(c,e){var k=0,g=0,m=0;a.hasClass("departure")?(k=$(c).find("td").eq(3).text(),g=k.split(":"),k=60*g[0]+1*g[1],g=$(e).find("td").eq(3).text(),g=g.split(":"),g=60*g[0]+1*g[1]):a.hasClass("arrival")?(k=$(c).find("td").eq(5).text(),g=k.split(":"),k=60*g[0]+1*g[1],g=$(e).find("td").eq(5).text(),g=g.split(":"),g=60*g[0]+1*g[1]):a.hasClass("distance")?(k=1*$(c).find("td").eq(6).text(),
g=1*$(e).find("td").eq(6).text()):a.hasClass("tvltime")?(k=$(c).find("td").eq(7).text(),g=k.split(":"),k=60*g[0]+1*g[1],g=$(e).find("td").eq(7).text(),g=g.split(":"),g=60*g[0]+1*g[1]):a.hasClass("trainno")&&(k=$(c).find("td").eq(0).text(),g=$(e).find("td").eq(0).text());return m=b?k<g?-1:k>g?1:0:g<k?-1:g>k?1:0});var e=$("#avlAndFareForm\\:trainbtwnstns tbody").eq(0);$.each(c,function(a,b){e.append(b)})}
function jptableSortflx(a,b){var c=$("#avlAndFareForm\\:flexitrainbtwnstns tbody").eq(0).find("tr").get();a=$(a);c.sort(function(c,e){var k=0,g=0,m=0;a.hasClass("departure")?(k=$(c).find("td").eq(3).text(),g=k.split(":"),k=60*g[0]+1*g[1],g=$(e).find("td").eq(3).text(),g=g.split(":"),g=60*g[0]+1*g[1]):a.hasClass("arrival")?(k=$(c).find("td").eq(5).text(),g=k.split(":"),k=60*g[0]+1*g[1],g=$(e).find("td").eq(5).text(),g=g.split(":"),g=60*g[0]+1*g[1]):a.hasClass("distance")?(k=1*$(c).find("td").eq(6).text(),
g=1*$(e).find("td").eq(6).text()):a.hasClass("tvltime")?(k=$(c).find("td").eq(7).text(),g=k.split(":"),k=60*g[0]+1*g[1],g=$(e).find("td").eq(7).text(),g=g.split(":"),g=60*g[0]+1*g[1]):a.hasClass("trainno")&&(k=$(c).find("td").eq(0).text(),g=$(e).find("td").eq(0).text());return m=b?k<g?-1:k>g?1:0:g<k?-1:g>k?1:0});var e=$("#avlAndFareForm\\:flexitrainbtwnstns tbody").eq(0);$.each(c,function(a,b){e.append(b)})}
function sortingFunction(){$("#altavlfrm\\:trainId thead th").each(function(a){$(this);$("#altavlfrm\\:trainId thead th div").each(function(a){a=$(this);a.css("float","right");a.hide()});$(this).click(function(){var a=$("#up",this),c=$("#down",this);a.is(":visible")||c.is(":visible")?a.is(":visible")&&!c.is(":visible")?(a.hide(),a.removeClass("up-hdr"),c.show(),c.addClass("down-hdr"),jptableSortflxtbs(this,!1)):!a.is(":visible")&&c.is(":visible")&&(c.hide(),c.removeClass("down-hdr"),a.show(),a.addClass("up-hdr"),
jptableSortflxtbs(this,!0)):(a.show(),a.addClass("up-hdr"),isSorted=!0,jptableSortflxtbs(this,!0));var e=$(this).get(0);$("#altavlfrm\\:trainId thead th").each(function(a){$(this).get(0)!=e&&$("div",this).each(function(a){a=$(this);a.removeClass("down-hdr");a.removeClass("up-hdr");a.hide()})})})});$("#altavlfrm\\:trainId tbody tr").each(function(a){$(this).hover(function(){$(this).addClass("active-row")},function(){$(this).removeClass("active-row")})});$("#altavlfrm\\:trainId thead th").eq(2).click()}
function jptableSortflxtbs(a,b){var c=$("#altavlfrm\\:trainId tbody").eq(0).children("tr").get();a=$(a);console.log("sorting");c.sort(function(e,h){if(c)var k=0;var g=0,m=0;a.hasClass("departure")?(k=$(e).find("td").eq(2).text(),g=k.split(" / "),g=g[1].split(":"),k=60*g[0]+1*g[1],g=$(h).find("td").eq(2).text(),g=g.split(" / "),g=g[1].split(":"),g=60*g[0]+1*g[1]):a.hasClass("arrival")?(k=$(e).find("td").eq(3).text(),g=k.split(" / "),g=g[1].split(":"),k=60*g[0]+1*g[1],g=$(h).find("td").eq(3).text(),
g=g.split("/"),g=g[1].split(":"),g=60*g[0]+1*g[1]):a.hasClass("trainno")?(k=$(e).find("td").eq(0).text(),g=$(h).find("td").eq(0).text()):a.hasClass("totalfare")&&(k=1*$(e).find("td").eq(4).text(),g=1*$(h).find("td").eq(4).text());return m=b?k<g?-1:k>g?1:0:g<k?-1:g>k?1:0});var e=$("#altavlfrm\\:trainId tbody").eq(0);$.each(c,function(a,b){e.append(b);console.log(b)})}var total_tabs=0,count1=0;
function func(a,b){var c,e,f;if("true"==a)return 0<count1&&$("#tabul").children().each(function(){f=e=c="";f=this.id;c=$("#"+this.id).text();e=$.trim(c.substr(0,c.length-1));e==$.trim(b)&&$("#"+f).find("a.close").click()}),count1>tabcount-1&&$("#tabul li").first().find("a.close").click(),$("#tabcontent .container-div").hide(),total_tabs++,count1++,addtab(total_tabs),!1}
function addtab(a){var b='\x3ca href\x3d"" id\x3d"close'+a+'" class\x3d"close"\x3e\x26times;\x3c/a\x3e';$("#tabul").append('\x3cli id\x3d"t'+a+'" class\x3d"ntabs"\x3e'+$("#enqpanelid1-tab").html()+"\x26nbsp;\x26nbsp;"+b+"\x3c/li\x3e");$("#tabcontent").append('\x3cdiv id\x3d"c'+a+'" class\x3d"container-div"\x3e'+$("#enqpanelid1-outer").html()+"\x3c/div\x3e");null!=$("#c"+a).find("a.refresh-avl-enq")&&$("#tabcontent").find("#c"+a).find("a").last().attr("id","refid"+a);$("#tabul li").removeClass("ctab");
$("#t"+a).addClass("ctab");$("#t"+a).bind("click",function(){$("#tabul li").removeClass("ctab");$("#t"+a).addClass("ctab");$("#tabcontent .container-div").hide();$("#c"+a).fadeIn("fast")});$("#close"+a).bind("click",function(){$(this).parent().hasClass("ctab")&&($(this).parent().removeClass("ctab"),$("#tabcontent .container-div").hide(),0<$(this).parent().next().length?($(this).parent().next().addClass("ctab"),$("#c"+a).next().fadeIn("fast"),$("#c"+a+".container-div").next().show()):0<$(this).parent().prev().length&&
($(this).parent().prev().addClass("ctab"),$("#c"+a).prev().fadeIn("fast"),$("#c"+a+".container-div").prev().show()));$(this).parent().remove();$("#c"+a).remove();count1--;return!1})}
function validateUserNameLength(){var a=document.getElementById("userRegistrationForm:userName");return""==a.value?(alert(userSignUpMsg.enter_username),a.focus(),!1):3>a.value.length?(alert(userSignUpMsg.username_check1),a.focus(),!1):10<a.value.length?(alert(userSignUpMsg.username_check2),a.focus(),!1):/\W/.test(a.value)?(alert(userSignUpMsg.username_check3),a.focus(),!1):/[a-z]/.test(a.value)?!0:(alert(userSignUpMsg.username_check4),a.focus(),!1)}
var curDt=new Date("#{cacheWrapper.currentDateForJs}"),yesterDay=new Date("#{cacheWrapper.currentDateForJs}"),yesterDayTest=new Date("#{cacheWrapper.currentDateForJs}"),arpDate=new Date("#{cacheWrapper.incommingJourneyDateForJs}"),dt=new Date("8/24/2012"),dtc=new Date("9/24/2012");yesterDay.setDate(yesterDay.getDate()-6575);yesterDayTest.setDate(yesterDayTest.getDate()-45657);function disablementFunction(a){return a.date>yesterDayTest&&a.date<yesterDay?!0:!1}
function fetchStates(){var a=$("#userRegistrationForm\\:countries"),b=$("#userRegistrationForm\\:statesName"),c=$("#userRegistrationForm\\:cityName"),e=$("#userRegistrationForm\\:postofficeName"),f=$("#userRegistrationForm\\:pincode"),h=$("#userRegistrationForm\\:pincodeError"),k=$("#userRegistrationForm\\:otherState"),g=$("#userRegistrationForm\\:otherCityId");94!=a.val()||1E3==a.val()?(h.val(""),b.val(""),f.val(""),c.val(0),e.val(0),document.getElementById("userRegistrationForm:otherState").style.visibility=
"visible",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityId").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility="visible",document.getElementById("userRegistrationForm:postofficeName").style.visibility="hidden",document.getElementById("userRegistrationForm:cityName").style.visibility="hidden",document.getElementById("userRegistrationForm:statesName").style.visibility=
"hidden"):(h.val(""),f.val(""),k.val(""),g.val(""),document.getElementById("userRegistrationForm:otherState").style.visibility="hidden",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityId").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility="hidden",document.getElementById("userRegistrationForm:postofficeName").style.visibility="visible",document.getElementById("userRegistrationForm:cityName").style.visibility=
"visible",document.getElementById("userRegistrationForm:statesName").style.visibility="visible");1E3!=a.val()&&94!=a.val()&&(h.val(""),b.val(""),f.val(""),c.val(0),e.val(0),document.getElementById("userRegistrationForm:otherState").style.visibility="visible",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityId").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility=
"visible",document.getElementById("userRegistrationForm:postofficeName").style.visibility="hidden",document.getElementById("userRegistrationForm:cityName").style.visibility="hidden",document.getElementById("userRegistrationForm:statesName").style.visibility="hidden")}
function showInernationMsg(){var a=$("#userRegistrationForm\\:nationalityId");94==a.val()||-1==a.val()?document.getElementById("userRegistrationForm:nationalityIdmsg").style.visibility="hidden":document.getElementById("userRegistrationForm:nationalityIdmsg").style.visibility="visible"}
function fetchStateso(){var a=$("#userRegistrationForm\\:countrieso"),b=$("#userRegistrationForm\\:statesNameo"),c=$("#userRegistrationForm\\:cityNameo"),e=$("#userRegistrationForm\\:postofficeNameo"),f=$("#userRegistrationForm\\:pincodeo"),h=$("#userRegistrationForm\\:pincodeErroro"),k=$("#userRegistrationForm\\:otherStateo"),g=$("#userRegistrationForm\\:otherCityIdo");94!=a.val()||1E3==a.val()?(h.val(""),b.val(""),f.val(""),c.val(0),e.val(0),document.getElementById("userRegistrationForm:otherStateo").style.visibility=
"visible",document.getElementById("userRegistrationForm:otherStateLblo").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityIdo").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityLblo").style.visibility="visible",document.getElementById("userRegistrationForm:postofficeNameo").style.visibility="hidden",document.getElementById("userRegistrationForm:cityNameo").style.visibility="hidden",document.getElementById("userRegistrationForm:statesNameo").style.visibility=
"hidden"):(h.val(""),f.val(""),k.val(""),g.val(""),document.getElementById("userRegistrationForm:otherStateo").style.visibility="hidden",document.getElementById("userRegistrationForm:otherStateLblo").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityIdo").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityLblo").style.visibility="hidden",document.getElementById("userRegistrationForm:postofficeNameo").style.visibility="visible",document.getElementById("userRegistrationForm:cityNameo").style.visibility=
"visible",document.getElementById("userRegistrationForm:statesNameo").style.visibility="visible");1E3!=a.val()&&94!=a.val()&&(h.val(""),b.val(""),f.val(""),c.val(0),e.val(0),document.getElementById("userRegistrationForm:otherStateo").style.visibility="visible",document.getElementById("userRegistrationForm:otherStateLblo").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityIdo").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityLblo").style.visibility=
"visible",document.getElementById("userRegistrationForm:postofficeNameo").style.visibility="hidden",document.getElementById("userRegistrationForm:cityNameo").style.visibility="hidden",document.getElementById("userRegistrationForm:statesNameo").style.visibility="hidden")}
function validateForgotPwdDtls(){var a=$("#forgot_passwrd\\:userName"),b=$("#forgot_passwrd\\:securityAns");if(""==a.val())return alert(userSignUpMsg.enter_username),a.focus(),!1;if(3>a.val().length)return alert(userSignUpMsg.username_check1),a.focus(),!1;if(35<a.val().length)return alert(userSignUpMsg.username_check2),a.focus(),!1;if(/\W/.test(a.val()))return alert(userSignUpMsg.username_check5),a.focus(),!1;if(""==b.val())return alert(userSignUpMsg.security_answer),b.focus(),!1;if(3>b.val().length)return alert(userSignUpMsg.security_answer_check1),
b.focus(),!1;if(20<b.val().length)return alert(userSignUpMsg.security_answer_check2),b.focus(),!1;if(""==$.trim($("#captcha_txt").val()))return $("#fgtCaptchaErr").html('\x3cspan class\x3d"rf-msg-err"\x3e\x3cspan class\x3d"rf-msg-det"\x3eEnter the captcha text as in the image\x3c/span\x3e\x3c/span\x3e'),!1;$("#fgtCaptchaErr").html("");return!0}
function validatePasswordSMSCode(a){var b=$("#forgotPasswordUpdation\\:newPswrd"),c=$("#forgotPasswordUpdation\\:cnfrmPswrd"),e=$("#forgotPasswordUpdation\\:maild"),f=$("#forgotPasswordUpdation\\:hiddenuName"),h=$("#forgotPasswordUpdation\\:hiddencode"),k=$("#forgotPasswordUpdation\\:hiddenVariable"),g=/[\W_]/;alert(a.value);alert(e.value);return"undefined"==typeof e.value&&"undefined"==typeof f.val()&&"undefined"==typeof h.val()&&"undefined"==typeof k.val()?(alert(userSignUpMsg.verificationurl),
!1):""==b.val()?(alert(userSignUpMsg.password_check1),b.focus(),!1):/[0-9]/.test(b.val())?/[A-Z]/.test(b.val())?/[a-z]/.test(b.val())?8>b.val().length?(alert(userSignUpMsg.password_check5),b.focus(),!1):15<b.val().length?(alert(userSignUpMsg.password_check6),b.focus(),!1):g.test(b.val())?(alert(userSignUpMsg.password_check7),b.focus(),!1):""==c.val()?(alert(userSignUpMsg.password_check8),c.focus(),!1):g.test(c.val())?(alert(userSignUpMsg.password_check9),c.focus(),!1):b.val()!=c.val()?(alert(userSignUpMsg.password_check10),
c.focus(),!1):!0:(alert(userSignUpMsg.password_check4),b.focus(),!1):(alert(userSignUpMsg.password_check3),b.focus(),!1):(alert(userSignUpMsg.password_check2),b.focus(),!1)}function validatePasswordOnRegistration(){var a=$("#userRegistrationForm\\:password"),b=$("#userRegistrationForm\\:confpasword");return a.val()!=b.val()?(alert(userSignUpMsg.password_check10),$("#userRegistrationForm\\:password").val(""),$("#userRegistrationForm\\:confpasword").val(""),a.focus(),!1):!0}
function fetchCities(){var a=document.getElementById("userRegistrationForm:statesId").value;"other"==a?(getCities(a),document.getElementById("userRegistrationForm:otherState").style.visibility="visible",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="visible"):(getCities(a),document.getElementById("userRegistrationForm:otherState").style.visibility="hidden",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="hidden")}
function fetchCitiesOther(){var a=document.getElementById("userRegistrationForm:cityId").value;"other"==a?(document.getElementById("userRegistrationForm:otherCityId").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility="visible"):(getPostOfficePincode(a),document.getElementById("userRegistrationForm:otherCityId").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility="hidden")}
function fetchPostOfficeDistrict(){}function fetchPostOfficeDistricto(){}function fetchStateFromPincode(){var a=$("#userRegistrationForm\\:pincode"),b=$("#userRegistrationForm\\:countries");if(-1==b.val())return alert(userSignUpMsg.country),b.focus(),a.val(""),!1;94==b.val()&&getStatesFromPin(a.val())}
function fetchStateFromPincodeo(){var a=$("#userRegistrationForm\\:pincodeo"),b=$("#userRegistrationForm\\:countrieso");if(-1==b.val())return alert(userSignUpMsg.country),b.focus(),a.val(""),!1;94==b.val()&&getStatesFromPino(a.val())}function fetchPostOfficeList(){var a=document.getElementById("userRegistrationForm:cityName").value;getPostOfficeFromCity(a)}function fetchPostOfficeListo(){var a=document.getElementById("userRegistrationForm:cityNameo").value;getPostOfficeFromCityo(a)}
function displaySoftUserInput(){document.getElementById("userRegistrationForm:headingCardHolder").style.visibility="visible";document.getElementById("userRegistrationForm:cardHolderName").style.visibility="visible";document.getElementById("userRegistrationForm:confirmCardHolderName").style.visibility="visible";document.getElementById("userRegistrationForm:cardHolderNameConfirm").style.visibility="visible";document.getElementById("userRegistrationForm:headingMotherMaidenName").style.visibility="visible";
document.getElementById("userRegistrationForm:motherMaidenName").style.visibility="visible";document.getElementById("userRegistrationForm:headingCofirmMotherMaidenName").style.visibility="visible";document.getElementById("userRegistrationForm:motherMaidenNameConfirm").style.visibility="visible";document.getElementById("userRegistrationForm:subsSmstest").style.visibility="visible";document.getElementById("userRegistrationForm:subsSmstestLabel").style.visibility="visible"}
function clearIdCardValue(){$("#userRegistrationForm\\:pancardno").val("")}
function validate(){var a=$("#userRegistrationForm\\:userName"),b=/[\W_]/,c=/^[A-Za-z0-9]+$/,e=$("#userRegistrationForm\\:email"),f=$("#userRegistrationForm\\:mobile"),h=$("#userRegistrationForm\\:pincode"),k=$("#userRegistrationForm\\:countries"),g=$("#userRegistrationForm\\:nationalityId");$("#userRegistrationForm\\:statesName");var m=$("#userRegistrationForm\\:cityName"),l=/^[0-9]+$/,n=/[a-z]/,q=/^[A-Za-z]+$/,u=$("#userRegistrationForm\\:landline"),v=$("#userRegistrationForm\\:landlineo"),z=$("#userRegistrationForm\\:firstName"),
D=$("#userRegistrationForm\\:middleName"),w=$("#userRegistrationForm\\:lastName"),B=$("#userRegistrationForm\\:securityQ"),I=$("#userRegistrationForm\\:occupation");$("#userRegistrationForm\\:cityName");var x=$("#userRegistrationForm\\:securityAnswer"),A=$("#userRegistrationForm\\:address"),G=$("#userRegistrationForm\\:street"),t=$("#userRegistrationForm\\:area"),s=$("#userRegistrationForm\\:postofficeName");$("#userRegistrationForm\\:idno");var p=$("#captcha"),r=$("#userRegistrationForm\\:otherState"),
E=$("#userRegistrationForm\\:otherCityId");$("#userRegistrationForm\\:otherPinId");f.val().substr(0,1);$("#userRegistrationForm\\:pancardno");$("#userRegistrationForm\\:pancardMandateFlg");$("#userRegistrationForm\\:verificationEnabledFlg");$("#userRegistrationForm\\:verificationTypeFlg");$("#userRegistrationForm\\:uidno");$("#userRegistrationForm\\:otp");$("#userRegistrationForm\\:otpMandatoryFlag");$("#userRegistrationForm\\:dobDay");$("#userRegistrationForm\\:dobMonth");$("#userRegistrationForm\\:dobYear");
$("#userRegistrationForm\\:selecIdCard\\:0:checked");$("#userRegistrationForm\\:selecIdCard\\:1:checked");$("#userRegistrationForm\\:verificationTypeFlgValue");var C=$("#userRegistrationForm\\:password"),H=$("#userRegistrationForm\\:confpasword");if(""==a.val())return alert(userSignUpMsg.enter_username),a.focus(),!1;if(!n.test(a.val()))return alert(userSignUpMsg.username_check4),a.focus(),!1;if(3>a.val().length)return alert(userSignUpMsg.username_check1),a.focus(),!1;if(10<a.val().length)return alert(userSignUpMsg.username_check6),
a.focus(),!1;if(/\W/.test(a.val()))return alert(userSignUpMsg.username_check5),a.focus(),!1;if(""==C.val())return alert(userSignUpMsg.password_check1),C.focus(),!1;if(!/[0-9]/.test(C.val()))return alert(userSignUpMsg.password_check2),C.focus(),!1;if(!/[A-Z]/.test(C.val()))return alert(userSignUpMsg.password_check3),C.focus(),!1;if(!n.test(C.val()))return alert(userSignUpMsg.password_check4),C.focus(),!1;if(8>C.val().length)return alert(userSignUpMsg.password_check5),C.focus(),!1;if(15<C.val().length)return alert(userSignUpMsg.password_check6),
C.focus(),!1;if(b.test(C.val()))return alert(userSignUpMsg.password_check7),C.focus(),!1;if(""==H.val())return alert(userSignUpMsg.password_check8),H.focus(),!1;if(b.test(H.val()))return alert(userSignUpMsg.password_check9),H.focus(),!1;if(C.val()!=H.val())return alert(userSignUpMsg.password_check10),H.focus(),!1;if(-1==B.val())return alert(userSignUpMsg.security_question),B.focus(),!1;if(""==x.val())return alert(userSignUpMsg.security_answer),x.focus(),!1;if(3>x.val().length)return alert(userSignUpMsg.security_answer_check1),
x.focus(),!1;if(20<x.val().length)return alert(userSignUpMsg.security_answer_check2),x.focus(),!1;if(""==z.val())return alert(userSignUpMsg.firstname),z.focus(),!1;if(1>z.val().length)return alert(userSignUpMsg.firstname_check1),z.focus(),!1;if(30<z.val().length)return alert(userSignUpMsg.firstname_check2),z.focus(),!1;if(!q.test(z.val()))return alert(userSignUpMsg.firstname_check3),z.focus(),!1;if(""!=D.val()&&!q.test(D.val()))return alert(userSignUpMsg.middlename_check1),D.focus(),!1;if(""!=D.val()&&
30<D.val().length)return alert(userSignUpMsg.middlename_check2),D.focus(),!1;if(""==w.val())return alert(userSignUpMsg.lastname),w.focus(),!1;if(1>w.val().length)return alert(userSignUpMsg.lastname_check1),w.focus(),!1;if(30<w.val().length)return alert(userSignUpMsg.lastname_check2),w.focus(),!1;if(!q.test(w.val()))return alert(userSignUpMsg.lastname_check3),w.focus(),!1;if(0==$("#userRegistrationForm\\:gender\\:0:checked").length&&0==$("#userRegistrationForm\\:gender\\:1:checked").length)return alert(userSignUpMsg.gender),
!1;if(0==$("#userRegistrationForm\\:maritalStatus\\:0:checked").length&&0==$("#userRegistrationForm\\:maritalStatus\\:1:checked").length)return alert(userSignUpMsg.marital),!1;if(-1==I.val())return alert(userSignUpMsg.occupation),I.focus(),!1;if(""==e.val())return alert(userSignUpMsg.email),e.focus(),!1;if(!/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test(e.val()))return alert(userSignUpMsg.email_check1),e.focus(),!1;if(10>e.val().length)return alert(userSignUpMsg.email_check2),e.focus(),
!1;if(70<e.val().length)return alert(userSignUpMsg.email_check3),e.focus(),!1;if(""==f.val())return alert(userSignUpMsg.mobile),f.focus(),!1;if(!l.test(f.val()))return alert(userSignUpMsg.mobile_check1),f.focus(),!1;if(10<f.val().length||10>f.val().length)return alert(userSignUpMsg.mobile_check2),f.focus(),!1;if(-1==g.val())return alert(userSignUpMsg.nationality),g.focus(),!1;if(""==A.val())return alert(userSignUpMsg.flat),A.focus(),!1;if(3>A.val().length)return alert(userSignUpMsg.flat_check1),A.focus(),
!1;if(225<A.val().length)return alert(userSignUpMsg.flat_check2),A.focus(),!1;if(""!=G.val()&&30<G.val().length)return alert(userSignUpMsg.street),G.focus(),!1;if(""!=t.val()&&30<t.val().length)return alert(userSignUpMsg.area),t.focus(),!1;if(-1==k.val())return alert(userSignUpMsg.country_check),k.focus(),!1;if(""==h.val())return alert(userSignUpMsg.pincode),h.focus(),!1;if(94==k.val()&&!l.test(h.val()))return alert(userSignUpMsg.pincode_check1),h.focus(),!1;if(94==k.val()&&6>h.val().length)return alert(userSignUpMsg.pincode_check2),
h.focus(),!1;if(94==k.val()&&6<h.val().length)return alert(userSignUpMsg.pincode_check3),h.focus(),!1;if(94!=k.val()&&!c.test(h.val()))return alert(userSignUpMsg.pincode_check4),h.focus(),!1;if(94!=k.val()&&3>h.val().length)return alert(userSignUpMsg.pincode_check5),h.focus(),!1;if(94!=k.val()&&15<h.val().length)return alert(userSignUpMsg.pincode_check6),h.focus(),!1;if(94!=k.val()&&""==r.val())return alert(userSignUpMsg.state),r.focus(),!1;if(94!=k.val()&&""!=r.val()&&!q.test(r.val()))return alert(userSignUpMsg.state_check1),
r.focus(),!1;if(94!=k.val()&&""!=r.val()&&3>r.val().length)return alert(userSignUpMsg.state_check2),r.focus(),!1;if(94!=k.val()&&""!=r.val()&&30<r.val().length)return alert(userSignUpMsg.state_check3),r.focus(),!1;if(94==k.val()&&-1==m.val())return alert(userSignUpMsg.city),m.focus(),!1;if(94!=k.val()&&""==E.val())return alert(userSignUpMsg.city_check1),E.focus(),!1;if(94!=k.val()&&""!=E.val()&&!q.test(E.val()))return alert(userSignUpMsg.city_check2),E.focus(),!1;if(94!=k.val()&&""!=E.val()&&3>E.val().length)return alert(userSignUpMsg.city_check3),
E.focus(),!1;if(94!=k.val()&&""!=E.val()&&30<E.val().length)return alert(userSignUpMsg.city_check4),E.focus(),!1;if(94==k.val()&&-1==s.val())return alert(userSignUpMsg.postOffice),s.focus(),!1;if(""==u.val())return alert("Please Enter Residential Phone No"),u.focus(),!1;if(0==$("#userRegistrationForm\\:resAndOff\\:0:checked").length&&""==v.val())return alert("Please Enter Office Phone No"),v.focus(),!1;if(""==p.val())return alert(userSignUpMsg.captcha_text_check1),p.focus(),!1;c=b=a="";0==$("#userRegistrationForm\\:newsletter\\:1:checked").length&&
(a=userSignUpMsg.Yes);0==$("#userRegistrationForm\\:newsletter\\:0:checked").length&&(a=userSignUpMsg.No);0==$("#userRegistrationForm\\:commercialpromo\\:1:checked").length&&(b=userSignUpMsg.Yes);0==$("#userRegistrationForm\\:commercialpromo\\:0:checked").length&&(b=userSignUpMsg.No);0==$("#userRegistrationForm\\:irctcsbicard\\:1:checked").length&&(c=userSignUpMsg.Yes);0==$("#userRegistrationForm\\:irctcsbicard\\:0:checked").length&&(c=userSignUpMsg.No);return confirm(formatMessage(userSignUpMsg.irctc_newsletters,
a,b,c))?1==confirm(formatMessage(userSignUpMsg.email_mobile,e.val(),f.val()))?!0:!1:!1}for(var F=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4]],i=2;8>i;i++){F[i]=[];for(var j=0;10>j;j++)F[i][j]=F[i-1][F[1][j]]}var Op=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],Inv=[0,4,3,2,1,5,6,7,8,9];
function reverse_str(a){for(var b="",c=a.length-1;0<=c;c--)b+=a.charAt(c);return b}function check(){var a=$("#userRegistrationForm\\:pancardno");if(""==a.val())return alert(userSignUpMsg.aadhaar),a.focus(),a.selected(),!1;for(var b=reverse_str(a.val()),c=0,e=0;e<b.length;e++)c=Op[c][F[e%8][b.charAt(e)]];if(0!=c)return alert(userSignUpMsg.aadhaar_check1),a.focus(),!1}
function validatePassword(){var a=$("#changePassword\\:oldPswrd"),b=$("#changePassword\\:newPswrd"),c=$("#changePassword\\:cnfrmPswrd"),e=/[\W_]/;return""==a.val()?(alert(userSignUpMsg.password_check11),a.focus(),!1):e.test(a.val())?(alert(userSignUpMsg.password_check12),a.focus(),!1):""==b.val()?(alert(userSignUpMsg.password_check13),b.focus(),!1):/[0-9]/.test(b.val())?/[A-Z]/.test(b.val())?/[a-z]/.test(b.val())?7>b.val().length?(alert(userSignUpMsg.password_check17),b.focus(),!1):15<b.val().length?
(alert(userSignUpMsg.password_check18),b.focus(),!1):e.test(b.val())?(alert(userSignUpMsg.password_check19),b.focus(),!1):""==c.val()?(alert(userSignUpMsg.password_check20),c.focus(),!1):e.test(c.val())?(alert(userSignUpMsg.password_check21),c.focus(),!1):b.val()!=c.val()?(alert(userSignUpMsg.password_check22),c.focus(),!1):a.val()==b.val()?(alert(userSignUpMsg.password_check23),b.focus(),!1):!0:(alert(userSignUpMsg.password_check16),b.focus(),!1):(alert(userSignUpMsg.password_check15),b.focus(),
!1):(alert(userSignUpMsg.password_check14),b.focus(),!1)}
$(document).ready(function(){$("#refresh").click(function(){$("#cimage").attr("src","captchaImage?"+Math.random())});0==$("#userRegistrationForm\\:resAndOff\\:1:checked").length&&$(".offaddiv").hide();0==$("#userRegistrationForm\\:resAndOff\\:0:checked").length&&$(".offaddiv").show();$('input[name\x3d"userRegistrationForm:resAndOff"]').click(function(){"Y"==$(this).attr("value")&&$(".offaddiv").hide();"N"==$(this).attr("value")&&$(".offaddiv").show()});var a=$("#userRegistrationForm\\:countries"),
b=$("#userRegistrationForm\\:countrieso");if(-1==a.val()||94==a.val())document.getElementById("userRegistrationForm:otherState").style.visibility="hidden",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityId").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility="hidden";if(-1==b.val()||94==b.val())document.getElementById("userRegistrationForm:otherStateo").style.visibility=
"hidden",document.getElementById("userRegistrationForm:otherStateLblo").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityIdo").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityLblo").style.visibility="hidden";a=$("#updateUserDtls\\:countries");b=$("#updateUserDtls\\:countrieso");if(-1==a.val()||94==a.val())document.getElementById("updateUserDtls:otherStateProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherStateLbl").style.visibility=
"hidden",document.getElementById("updateUserDtls:otherCityIdProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherCityLblProfile").style.visibility="hidden",document.getElementById("updateUserDtls:postofficeName").style.visibility="visible",document.getElementById("updateUserDtls:cityName").style.visibility="visible",document.getElementById("updateUserDtls:statesName").style.visibility="visible";if(-1==b.val()||94==b.val())document.getElementById("updateUserDtls:otherStateo").style.visibility=
"hidden",document.getElementById("updateUserDtls:otherStateLblo").style.visibility="hidden",document.getElementById("updateUserDtls:otherCityIdo").style.visibility="hidden",document.getElementById("updateUserDtls:otherCityLblo").style.visibility="hidden",document.getElementById("updateUserDtls:postofficeNameo").style.visibility="visible",document.getElementById("updateUserDtls:cityNameo").style.visibility="visible",document.getElementById("updateUserDtls:statesNameo").style.visibility="visible";a=
$("#userRegistrationForm\\:nationalityId");94==a.val()||-1==a.val()?document.getElementById("userRegistrationForm:nationalityIdmsg")&&(document.getElementById("userRegistrationForm:nationalityIdmsg").style.visibility="hidden"):document.getElementById("userRegistrationForm:nationalityIdmsg")&&(document.getElementById("userRegistrationForm:nationalityIdmsg").style.visibility="visible")});
function getEmailCode(a){a=$("#activation\\:active");if(""==a.val())return alert(userSignUpMsg.smscode),a.focus(),!1}function disotpblock(){$(document).ready(function(){$(".seqCodert").hide();$(".seqCodertl").hide();$(".mobileSMSlink").hide()})}function enablemobileblock(){$(document).ready(function(){$("#updateUserDtls\\:mobile").prop("disabled",!1)})}function enableemailblock(){$(document).ready(function(){$("#updateUserDtls\\:email").prop("disabled",!1)})}
function validateFeedbackInput(){var a=$("#txnListFormForSession\\:fdDescription"),b=addMstPsgnMsg.all_services_in_feedback;if(0==$("#txnListFormForSession\\:fdq1\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:5:checked").length||0==$("#txnListFormForSession\\:fdq2\\:0:checked").length&&
0==$("#txnListFormForSession\\:fdq2\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq2\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq2\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq2\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq2\\:5:checked").length||0==$("#txnListFormForSession\\:fdq3\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq3\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq3\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq3\\:3:checked").length&&
0==$("#txnListFormForSession\\:fdq3\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq3\\:5:checked").length||0==$("#txnListFormForSession\\:fdq4\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:5:checked").length||0==$("#txnListFormForSession\\:fdq5\\:0:checked").length&&
0==$("#txnListFormForSession\\:fdq5\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq5\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq5\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq5\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq5\\:5:checked").length||0==$("#txnListFormForSession\\:fdq6\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq6\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq6\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq6\\:3:checked").length&&
0==$("#txnListFormForSession\\:fdq6\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq6\\:5:checked").length||0==$("#txnListFormForSession\\:fdq7\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq7\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq7\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq7\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq7\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq7\\:5:checked").length||0==$("#txnListFormForSession\\:fdq8\\:0:checked").length&&
0==$("#txnListFormForSession\\:fdq8\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq8\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq8\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq8\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq8\\:5:checked").length||0==$("#txnListFormForSession\\:fdq9\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq9\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq9\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq9\\:3:checked").length&&
0==$("#txnListFormForSession\\:fdq9\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq9\\:5:checked").length||0==$("#txnListFormForSession\\:fdq10\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq10\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq10\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq10\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq10\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq10\\:5:checked").length||0==$("#txnListFormForSession\\:fdq11\\:0:checked").length&&
0==$("#txnListFormForSession\\:fdq11\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq11\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq11\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq11\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq11\\:5:checked").length||0==$("#txnListFormForSession\\:fdq12\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq12\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq12\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq12\\:3:checked").length&&
0==$("#txnListFormForSession\\:fdq12\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq12\\:5:checked").length||0==$("#txnListFormForSession\\:fdq13\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:5:checked").length||0==$("#txnListFormForSession\\:fdq14\\:0:checked").length&&
0==$("#txnListFormForSession\\:fdq14\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq14\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq14\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq14\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq14\\:5:checked").length)return alert(b),!1;if(/[`^~<>]/.test(a.val()))return alert(addMstPsgnMsg.no_spl_chars_allowed),a.focus(),!1;if(950<a.val().length)return alert(addMstPsgnMsg.max_limit_exceeded),a.focus(),!1}
function validateQuickFeedbackInput(){var a=$("#txnListFormForSessionQuick\\:fdDescription");if(0==$("#txnListFormForSessionQuick\\:fdq1\\:0:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:1:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:2:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:3:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:4:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:5:checked").length||0==$("#txnListFormForSessionQuick\\:fdq5\\:0:checked").length&&
0==$("#txnListFormForSessionQuick\\:fdq5\\:1:checked").length)return alert(addMstPsgnMsg.all_services_in_feedback),!1;if(/[`^~<>]/.test(a.val()))return alert(addMstPsgnMsg.no_spl_chars_allowed),a.focus(),!1;if(950<a.val().length)return alert(addMstPsgnMsg.max_limit_exceeded),a.focus(),!1}
function validateInputNew(){var a=$("#addMstListPsgn\\:Name"),b=$("#addMstListPsgn\\:mstDobInputDate"),c=$("#addMstListPsgn\\:idcardnumber"),e=$("#addMstListPsgn\\:idcardtypeNonMandate"),f=$("#addMstListPsgn\\:mstgender\\:0:checked"),h=$("#addMstListPsgn\\:mstgender\\:1:checked"),k=$("#addMstListPsgn\\:stznchoice\\:0:checked"),g=$("#addMstListPsgn\\:stznchoice\\:1:checked");$("#addMstListPsgn\\:uidMandateFlg");$("#addMstListPsgn\\:uidEnabledFlg");var m=/^[0-9]+$/,l=new Date,n=Number(b.val().substr(6,
4)),q=Number(b.val().substr(3,2)),u=Number(b.val().substr(0,2));l.getTime();n=l.getFullYear()-n;l.getMonth();l.getMonth();l.getDay();l.getDay();var v=n-1;if(""==a.val())return alert(addMstPsgnMsg.enter_psgn_name),a.focus(),!1;if(""==b.val())return alert(addMstPsgnMsg.enter_psgn_dob),b.focus(),!1;2==k.val()&&alert(addMstPsgnMsg.srctzn_selected);if(3>a.val().length)return alert(addMstPsgnMsg.min_chars_for_name),a.focus(),!1;if(60<a.val().length)return alert(addMstPsgnMsg.max_chars_for_name),a.focus(),
!1;if(!/^[A-Za-z\s]+$/.test(a.val()))return alert(addMstPsgnMsg.only_alphabates_in_name),a.focus(),!1;if(""!=c.val()&&9==e.val()&&!m.test(c.val()))return alert(addMstPsgnMsg.enter_id_no_in_digits),c.focus(),!1;if(""!=c.val()&&9==e.val()&&12!=c.val().length)return alert(addMstPsgnMsg.enter_12_digits_id),c.focus(),!1;if(""!=c.val()&&9==e.val()){a=reverse_str(c.val());for(e=b=0;e<a.length;e++)b=Op[b][F[e%8][a.charAt(e)]];if(0!=b)return alert(addMstPsgnMsg.invalid_id_card_no),c.focus(),!1}if((l.getMonth()<
q||l.getMonth()==q)&&l.getDate()>=u)if(59<v&&"M"==f.val()&&1==g.val()){if(c=confirm(addMstPsgnMsg.confirm_srctzn_not_opted),1!=c)return!1}else if(59<n&&"M"==f.val()&&1==g.val()&&(c=confirm(addMstPsgnMsg.confirm_srctzn_not_opted),1!=c))return!1;if((l.getMonth()<q||l.getMonth()==q)&&l.getDate()<=u)if(60<v&&"M"==f.val()&&1==g.val()){if(c=confirm(addMstPsgnMsg.confirm_srctzn_not_opted),1!=c)return!1}else if(60<n&&"M"==f.val()&&1==g.val()&&(c=confirm(addMstPsgnMsg.confirm_srctzn_not_opted),1!=c))return!1;
if((l.getMonth()<q||l.getMonth()==q)&&l.getDate()>=u)if(57<v&&"F"==h.val()&&1==g.val()){if(c=confirm(addMstPsgnMsg.confirm_srctzn_not_opted),1!=c)return!1}else if(57<n&&"F"==h.val()&&1==g.val()&&(c=confirm(addMstPsgnMsg.confirm_srctzn_not_opted),1!=c))return!1;if((l.getMonth()<q||l.getMonth()==q)&&l.getDate()<=u)if(58<v&&"F"==h.val()&&1==g.val()){if(c=confirm(addMstPsgnMsg.confirm_srctzn_not_opted),1!=c)return!1}else if(58<n&&"F"==h.val()&&1==g.val()&&(c=confirm(addMstPsgnMsg.confirm_srctzn_not_opted),
1!=c))return!1}F=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4]];for(i=2;8>i;i++)for(F[i]=[],j=0;10>j;j++)F[i][j]=F[i-1][F[1][j]];Op=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]];Inv=[0,4,3,2,1,5,6,7,8,9];function reverse_str(a){for(var b="",c=a.length-1;0<=c;c--)b+=a.charAt(c);return b}
function check(){var a=$("#addMstListPsgn\\:idcardnumber");if(""==a.val())return alert(addMstPsgnMsg.enter_aadhaar_id),a.focus(),a.selected(),!1;for(var b=reverse_str(a.val()),c=0,e=0;e<b.length;e++)c=Op[c][F[e%8][b.charAt(e)]];if(0!=c)return alert(addMstPsgnMsg.invalid_aadhaar_id),a.focus(),!1}
function getMasterListDelete(a){$(document).ready(function(){document.getElementById("addMstListPsgn:selectMasterListId").value=a;if(1==confirm(addMstPsgnMsg.confirm_delete_psgn))processMasterList(a);else return!1})}function getMasterListEdit(a){$(document).ready(function(){document.getElementById("addMstListPsgn:selectMasterListIdEdit").value=a;editMasterList(a)})}function getMasterList(){updatedMasterList()}function getFocusOnPassengerName(){$("#addMstListPsgn\\:Name").focus()}
function getTravelListAddNew(){var a=$("#createtravellistnew\\:travellistname"),b=$("#createtravellistnew\\:travellistdesc"),c=$("#createtravellistnew input:checkbox:checked").length,e=$("#createtravellistnew\\:displaylistname"),f=/^[A-Za-z\s]+$/;if("new"!=e.val())return alert(createTravelListMsg.create_new),e.focus(),!1;if(1>c)return alert(createTravelListMsg.select_atleast_1_psgn),a.focus(),!1;if(6<c)return alert(createTravelListMsg.select_less_than_7),a.focus(),!1;if(""==a.val())return alert(createTravelListMsg.enter_travellist_name),
a.focus(),!1;if(/[\W_]/.test(a.val())||!f.test(a.val()))return alert(createTravelListMsg.only_alphabates_travellist_name),a.focus(),!1;if(4>a.val().length)return alert(createTravelListMsg.min_4_chars_for_name),a.focus(),!1;if(20<a.val().length)return alert(createTravelListMsg.max_20_chars_for_name),a.focus(),!1;if(""!=b.val()){if(4>b.val().length)return alert(createTravelListMsg.min_4_chars_for_desc),b.focus(),!1;if(20<b.val().length)return alert(createTravelListMsg.max_20_chars_for_desc),b.focus(),
!1;if(!f.test(b.val()))return alert(createTravelListMsg.only_alphabates_for_desc),b.focus(),!1}var h=[];$("#createtravellistnew input:checkbox").each(function(a){$(this).is(":checked")&&($("input:checkbox:checked"),h.push($(this).val()))});addMasterListPassenger(h)}function getTravelListAdd(a){$(document).ready(function(){document.getElementById("createtravellistnew:selectAllMasterListIds").value=a;addMasterListPassenger(a)})}
function getTravelListDelete(){var a=$("#createtravellistnew\\:displaylistname"),b=$("#createtravellistnew\\:displaylistname").val();$("#createtravellistnew\\:travellistname");var c=$("#createtravellistnew\\:displaylistname");if("new"==c.val())return alert(createTravelListMsg.select_travellist_for_delete),c.focus(),!1;delTravelListPassenger(b);delTravelListPassenger(a.val())}
function validatePassword(){var a=$("#changePassword\\:oldPswrd"),b=$("#changePassword\\:newPswrd"),c=$("#changePassword\\:cnfrmPswrd"),e=/[\W_]/;return""==a.val()?(alert("Please enter old password"),a.focus(),!1):e.test(a.val())?(alert("Only letters, numbers  are allowed for old password"),a.focus(),!1):""==b.val()?(alert("Please enter new password"),b.focus(),!1):/[0-9]/.test(b.val())?/[A-Z]/.test(b.val())?/[a-z]/.test(b.val())?7>b.val().length?(alert(" New password should be more than seven characters"),
b.focus(),!1):15<b.val().length?(alert(" New Password should not be more than fifteen characters"),b.focus(),!1):e.test(b.val())?(alert("Only letters, numbers  are allowed for new password"),b.focus(),!1):""==c.val()?(alert("Please enter new confirm password"),c.focus(),!1):e.test(c.val())?(alert("Only letters, numbers  are allowed for new confirm password"),c.focus(),!1):b.val()!=c.val()?(alert("Your new password and new confirm password do not match."),c.focus(),!1):a.val()==b.val()?(alert("Old Pasword and New Password cannot be same"),
b.focus(),!1):!0:(alert("New password must contain at least one small letter"),b.focus(),!1):(alert("New password must contain at least one capital letter"),b.focus(),!1):(alert("New password must contain at least one number (0-9)"),b.focus(),!1)}
function validateInput(){var a=document.getElementById("favJourney:trnNumber"),b=document.getElementById("favJourney:fromStation"),c=document.getElementById("favJourney:toStation"),e=document.getElementById("favJourney:classFav"),f=document.getElementById("favJourney:quotaFav");return""==a.value?(alert(favJrnyListMsg.enter_train_no),a.focus(),!1):""==b.value?(alert(favJrnyListMsg.enter_from_stn),b.focus(),!1):""==c.value?(alert(favJrnyListMsg.enter_to_stn),c.focus(),!1):"blank"==e.value?(alert(favJrnyListMsg.select_class),
e.focus(),!1):"blankQ"==f.value?(alert(favJrnyListMsg.select_quota),f.focus(),!1):5!=a.value.length?(alert(favJrnyListMsg.enter_5_digit_trn_no),a.focus(),!1):!0}function getFavJourneyListDelete(a){$(document).ready(function(){document.getElementById("favJourney:selectJrnyListId").value=a;if(1==confirm(favJrnyListMsg.confirm_delete_jrny_list))processFavJourneyList(a);else return!1})}
function validatePrefBankForm(){var a=document.getElementById("prefBankForm:allBankList");return"-1"==a.value?(alert(prefBankListMsg.select_bank),a.focus(),!1):!0}function getPrefBankToDelete(a){$(document).ready(function(){if(1==confirm(prefBankListMsg.confirm_delete_pref_bank))deleteFromPrefBankList(a);else return!1})}
function fetchStatesProfile(){var a=document.getElementById("updateUserDtls:countries").value,b=$("#updateUserDtls\\:statesName"),c=$("#updateUserDtls\\:cityIdProfile"),e=$("#updateUserDtls\\:postofficeProfile"),f=$("#updateUserDtls\\:pincodeProfile"),h=$("#updateUserDtls\\:pincodeProfileError"),k=$("#updateUserDtls\\:otherStateProfile"),g=$("#updateUserDtls\\:otherCityIdProfile");94!=a||1E3==a?(h.val(""),b.val(""),f.val(""),c.val(0),e.val(0),document.getElementById("updateUserDtls:otherStateProfile").style.visibility=
"visible",document.getElementById("updateUserDtls:otherStateLbl").style.visibility="visible",document.getElementById("updateUserDtls:otherCityIdProfile").style.visibility="visible",document.getElementById("updateUserDtls:otherCityLblProfile").style.visibility="visible",document.getElementById("updateUserDtls:postofficeName").style.visibility="hidden",document.getElementById("updateUserDtls:cityName").style.visibility="hidden",document.getElementById("updateUserDtls:statesName").style.visibility="hidden"):
(h.val(""),f.val(""),k.val(""),g.val(""),document.getElementById("updateUserDtls:otherStateProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherStateLbl").style.visibility="hidden",document.getElementById("updateUserDtls:otherCityIdProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherCityLblProfile").style.visibility="hidden",document.getElementById("updateUserDtls:postofficeName").style.visibility="visible",document.getElementById("updateUserDtls:cityName").style.visibility=
"visible",document.getElementById("updateUserDtls:statesName").style.visibility="visible");1E3!=a&&94!=a&&(otherCountry.val(""),h.val(""),b.val(""),f.val(""),c.val(0),e.val(0),document.getElementById("updateUserDtls:otherStateProfile").style.visibility="visible",document.getElementById("updateUserDtls:otherStateLbl").style.visibility="visible",document.getElementById("updateUserDtls:otherCityIdProfile").style.visibility="visible",document.getElementById("updateUserDtls:otherCityLblProfile").style.visibility=
"visible",document.getElementById("updateUserDtls:postofficeName").style.visibility="hidden",document.getElementById("updateUserDtls:cityName").style.visibility="hidden",document.getElementById("updateUserDtls:statesName").style.visibility="hidden")}
function fetchStatesoProfile(){var a=document.getElementById("updateUserDtls:countrieso").value,b=$("#updateUserDtls\\:statesNameo"),c=$("#updateUserDtls\\:cityIdProfileo"),e=$("#updateUserDtls\\:postofficeo"),f=$("#updateUserDtls\\:pincodeProfileo"),h=$("#updateUserDtls\\:pincodeProfileErroro"),k=$("#updateUserDtls\\:otherStateo"),g=$("#updateUserDtls\\:otherCityIdo");94!=a||1E3==a?(h.val(""),b.val(""),f.val(""),c.val(0),e.val(0),document.getElementById("updateUserDtls:otherStateo").style.visibility=
"visible",document.getElementById("updateUserDtls:otherStateLblo").style.visibility="visible",document.getElementById("updateUserDtls:otherCityIdo").style.visibility="visible",document.getElementById("updateUserDtls:otherCityLblo").style.visibility="visible",document.getElementById("updateUserDtls:postofficeNameo").style.visibility="hidden",document.getElementById("updateUserDtls:cityNameo").style.visibility="hidden",document.getElementById("updateUserDtls:statesNameo").style.visibility="hidden"):
(h.val(""),f.val(""),k.val(""),g.val(""),document.getElementById("updateUserDtls:otherStateo").style.visibility="hidden",document.getElementById("updateUserDtls:otherStateLblo").style.visibility="hidden",document.getElementById("updateUserDtls:otherCityIdo").style.visibility="hidden",document.getElementById("updateUserDtls:otherCityLblo").style.visibility="hidden",document.getElementById("updateUserDtls:postofficeNameo").style.visibility="visible",document.getElementById("updateUserDtls:cityNameo").style.visibility=
"visible",document.getElementById("updateUserDtls:statesNameo").style.visibility="visible");1E3!=a&&94!=a&&(h.val(""),b.val(""),f.val(""),c.val(0),e.val(0),document.getElementById("updateUserDtls:otherStateo").style.visibility="visible",document.getElementById("updateUserDtls:otherStateLblo").style.visibility="visible",document.getElementById("updateUserDtls:otherCityIdo").style.visibility="visible",document.getElementById("updateUserDtls:otherCityLblo").style.visibility="visible",document.getElementById("updateUserDtls:postofficeNameo").style.visibility=
"hidden",document.getElementById("updateUserDtls:cityNameo").style.visibility="hidden",document.getElementById("updateUserDtls:statesNameo").style.visibility="hidden")}function fetchCitiesProfile(){var a=document.getElementById("updateUserDtls:statesIdProfile").value;getCities(a)}
function alertForAccountLockEmailUpdate(){var a=$("#updateUserDtls\\:email");if(""==a.val())return alert(updateProfileMsg.email_check1),a.focus(),!1;if(/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test(a.val()))alert(updateProfileMsg.email),$(".emailver").hide(),getEmailCodeProfileC(a.val());else return alert(updateProfileMsg.email_check2),a.focus(),!1}
function alertForAccountLockMobileUpdate(){var a=$("#updateUserDtls\\:mobile");if(""==a.val())return alert(updateProfileMsg.mobile),mob.focus(),!1;if(!/^[7-9]{1}[0-9]{9}$/.test(a.val()))return alert(updateProfileMsg.mobile_check1),a.focus(),!1;if(10<a.val().length)return alert(updateProfileMsg.mobile_check2),mob.focus(),!1;if(10>a.val().length)return alert(updateProfileMsg.mobile_check2),a.focus(),!1;alert(updateProfileMsg.mobile_check3);$(".mobilever").hide();getSMSCodeProfileC(a.val())}
function setOtpCodeOnProfile(a){$(document).ready(function(){var a=$("#mchangeProfile\\:mobileSMSCodert");$("#updateUserDtls\\:otpNumi").val(a.val());$("#updateUserDtls\\:mobile").prop("disabled",!0);setUserOtpCode(a.val())})}
function setemailOtpCodeOnProfile(a){$(document).ready(function(){var a=$("#echangeProfile\\:emailSMSCodert");if(""!=a.val())$("#updateUserDtls\\:otpemail").val(a.val()),$("#updateUserDtls\\:email").prop("disabled",!0),setUseremailOtpCode(a.val());else return alert(updateProfileMsg.emailCode),!1})}
function validateemailCode(){$(document).ready(function(){var a=$("#echangeProfile\\:emailSMSCodert"),b=/^[0-9]+$/;""!=a.val()?b.test(a.val())||alert(updateProfileMsg.emailCode):alert(updateProfileMsg.emailCode)})}function fetchCitiesOtherProfile(){var a=document.getElementById("updateUserDtls:cityIdProfile").value;"other"!=a&&getPostOfficePincode(a)}function fetchPostOfficeDistrictProfile(){"other-other"!=document.getElementById("updateUserDtls:postofficeName").value&&otherPin()}
function fetchStateFromPincodeProfile(){var a=$("#updateUserDtls\\:pincode"),b=$("#updateUserDtls\\:countries");if(0==b.val()||-1==b.val())return alert(updateProfileMsg.country_check1),b.focus(),a.val(""),!1;94==b.val()&&getStatesFromPin(a.val())}function fetchStateFromPincodeProfileo(){var a=$("#updateUserDtls\\:pincodeo"),b=$("#updateUserDtls\\:countrieso");if(0==b.val()||-1==b.val())return alert(updateProfileMsg.country_check1),b.focus(),a.val(""),!1;94==b.val()&&getStatesFromPino(a.val())}
function sendMobileCodeProfileChange(){var a=$("#updateUserDtls\\:mobile");if(""==a.val())return alert(updateProfileMsg.mobile),document.getElementById("updateUserDtls:mobileSMSCode,").style.visibility="hidden",mobile.focus(),!1;getSMSCodeProfileC(a.val())}function fetchPostOfficeListProfile(){var a=document.getElementById("updateUserDtls:cityName").value;getPostOfficeFromCity(a)}
function fetchPostOfficeListProfileo(){var a=document.getElementById("updateUserDtls:cityNameo").value;getPostOfficeFromCityo(a)}
function enableMobileValidateLink(){alert("hi");var a=$("#updateUserDtls\\:mobile");if(""==a.val())return alert(updateProfileMsg.mobile),mob.focus(),!1;if(!/^[7-9]{1}[0-9]{9}$/.test(a.val()))return alert(updateProfileMsg.mobile_check1),a.focus(),!1;if(10<a.val().length)return alert(updateProfileMsg.mobile_check2),mob.focus(),!1;if(10>a.val().length)return alert(updateProfileMsg.mobile_check2),a.focus(),!1;$(".mobileVerifLink").show()}
function validateProfile(){var a=$("#updateUserDtls\\:securityAns"),b=$("#updateUserDtls\\:emailId"),c=$("#updateUserDtls\\:profileAddress"),e=$("#updateUserDtls\\:profileStreet"),f=$("#updateUserDtls\\:profileArea"),h=$("#updateUserDtls\\:postofficeProfile"),k=$("#updateUserDtls\\:countriesProfile"),g=$("#updateUserDtls\\:cityIdProfile"),m=$("#updateUserDtls\\:resPhMob"),l=$("#updateUserDtls\\:pincodeProfile"),n=/^[0-9]+$/,q=$("#updateUserDtls\\:resLandline"),u=Number(m.val().substr(0,1)),v=/^[A-Za-z0-9]+$/,
z=$("#updateUserDtls\\:pancardnoprofile"),D=$("#updateUserDtls\\:pancardMandateFlgProfile");if(""==a.val())return alert(updateProfileMsg.security),a.focus(),!1;if(3>a.val().length)return alert(updateProfileMsg.security_check1),a.focus(),!1;if(20<a.val().length)return alert(updateProfileMsg.security_check2),a.focus(),!1;if(""!=z.val()&&!v.test(z.val()))return alert(updateProfileMsg.pancard),z.focus(),!1;if("true"==D.val()&&""==z.val())return alert(updateProfileMsg.pancard_check),z.focus(),!1;if(0==
$("#updateUserDtls\\:genderProfile\\:0:checked").length&&0==$("#updateUserDtls\\:genderProfile\\:1:checked").length)return alert(updateProfileMsg.gender),!1;if(0==$("#updateUserDtls\\:maritalProfile\\:0:checked").length&&0==$("#updateUserDtls\\:maritalProfile\\:1:checked").length)return alert(updateProfileMsg.marital),!1;if(""==b.val())return alert(updateProfileMsg.email_check1),b.focus(),!1;if(!/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test(b.val()))return alert(updateProfileMsg.email_check2),
b.focus(),!1;if(""==c.val())return alert(updateProfileMsg.flat),c.focus(),!1;if(3>c.val().length)return alert(updateProfileMsg.flat_check1),c.focus(),!1;if(225<c.val().length)return alert(updateProfileMsg.flat_check2),c.focus(),!1;if(""!=e.val()&&25<e.val().length)return alert(updateProfileMsg.street),e.focus(),!1;if(""!=f.val()&&25<f.val().length)return alert(updateProfileMsg.area),f.focus(),!1;if(0==k.val())return alert(updateProfileMsg.country),k.focus(),!1;if(94!=k.val())return alert(updateProfileMsg.country_check),
k.focus(),!1;if(""==l.val())return alert(updateProfileMsg.pincode),l.focus(),!1;if(94==k.val()&&!n.test(l.val()))return alert(updateProfileMsg.pincode_check1),l.focus(),!1;if(94==k.val()&&3>l.val().length)return alert(updateProfileMsg.pincode_check2),l.focus(),!1;if(94==k.val()&&6<l.val().length)return alert(updateProfileMsg.pincode_check3),l.focus(),!1;if(94==k.val()&&0==g.val())return alert(updateProfileMsg.city),g.focus(),!1;if(94==k.val()&&0==h.val())return alert(updateProfileMsg.postoffice),
h.focus(),!1;if(""==m.val())return alert(updateProfileMsg.mobile_check5),m.focus(),!1;if(!n.test(m.val()))return alert(updateProfileMsg.mobile_check6),m.focus(),!1;if(0==u)return alert(updateProfileMsg.mobile_check7),m.focus(),!1;if(10<m.val().length||10>m.val().length)return alert(updateProfileMsg.mobile_check2),m.focus(),!1;if(""!=q.val()){if(10<q.val().length)return alert(updateProfileMsg.landLine),q.focus(),!1;if(!n.test(q.val()))return alert(updateProfileMsg.landLine_check1),q.focus(),!1}return 1==
confirm(updateProfileMsg.email_mobile)?!0:!1}
function validateEnqform(a){$("#trainschedule\\:inputErrorMsgs").text("");$(a.form).find(":text").each(function(a,c){$(c).change()});a=$("#trainschedule\\:inputErrorMsgs").find("span");if(null!=a&&0<a.length)return!1;a=$("#trainschedule\\:trainnumber");return""==a.val()?(alert("Please enter Train Nunber"),a.focus(),!1):/[\W_]/.test(a.val())?(alert("No Special characters allowed for Train number"),a.focus(),!1):/^[0-9]+$/.test(a.val())?!0:(alert("Enter the  Train Number in digits only"),a.focus(),
!1)}function validatePnr(){var a=document.getElementById("pnrEnquiryInputForm:pnr"),b=/^[0-9]+$/,c=Number(a.value.substr(0,1));if(""!=a.value){if(10!=a.value.length)return alert(pnrMsgMap.noOfDigitWarn),a.focus(),!1;if(!b.test(a.value))return alert(pnrMsgMap.digitWarn),a.focus(),!1;if(0==c||1==c||3==c||5==c||7==c||9==c)return alert(pnrMsgMap.validPnr),a.focus(),!1}else alert(pnrMsgMap.emptyPnr);return!0}$(document).ready(function(){$("#pnrEnquiryInputForm\\:pnr").focus()});
function validateEwalletPancardInput(){var a=$("#ewalletPancard\\:panactive"),b=$("#ewalletPancard\\:panFirstName");if(""==a.val())return alert(ewalletMsgMap.regPanEnpty),a.focus(),!1;if(!/^[A-Za-z0-9]+$/.test(a.val()))return alert(ewalletMsgMap.regPanNoWarn),a.focus(),!1;if(10!=a.val().length||!/(^([a-zA-Z]{5})([0-9]{4})([a-zA-Z]{1})$)/.test(a.val()))return alert(ewalletMsgMap.regPanValid),a.focus(),!1;if(""==b.val()||!/^[A-Za-z\s]+$/.test(b.val()))return alert(ewalletMsgMap.regFirstNameValid),b.focus(),
!1}
function validateEwalletRegPayment(){var a=$("#ewalletregPymt\\:txnPwd"),b=$("#ewalletregPymt\\:txnPwdCnf");$("#ewalletregPymt\\:payOption\\:0:checked");$("#ewalletregPymt\\:payOption\\:1:checked");$("#ewalletregPymt\\:bankINBList");$("#ewalletregPymt\\:bankDCList");var c=/[\W_]/;if(""==a.val())return alert(ewalletMsgMap.regTxnPwd),a.focus(),!1;if(!/[0-9]/.test(a.val()))return alert(ewalletMsgMap.regTxnPwdNoWarn),a.focus(),!1;if(!/[A-Z]/.test(a.val()))return alert(ewalletMsgMap.regTxnPwdUpperWarn),a.focus(),
!1;if(!/[a-z]/.test(a.val()))return alert(ewalletMsgMap.regTxnPwdLowerWarn),a.focus(),!1;if(7>a.val().length)return alert(ewalletMsgMap.regTxnPwdLen),a.focus(),!1;if(15<a.val().length)return alert(ewalletMsgMap.regTxnPwdMaxLen),a.focus(),!1;if(c.test(a.val()))return alert(ewalletMsgMap.regTxnPwdSplChar),a.focus(),!1;if(""==b.val())return alert(ewalletMsgMap.regCnfPwd),b.focus(),!1;if(c.test(b.val()))return alert(ewalletMsgMap.regCnfPwdSplChar),b.focus(),!1;if(a.val()!=b.val())return alert(ewalletMsgMap.regTxnPwdCnfMismatch),
a.focus(),!1}
function validateEwalletRegPaymentNoFee(){var a=$("#ewalletregPymtNoFee\\:txnPwd"),b=$("#ewalletregPymtNoFee\\:txnPwdCnf"),c=/[\W_]/;if(""==a.val())return alert(ewalletMsgMap.regTxnPwd),a.focus(),!1;if(!/[0-9]/.test(a.val()))return alert(ewalletMsgMap.regTxnPwdNoWarn),a.focus(),!1;if(!/[A-Z]/.test(a.val()))return alert(ewalletMsgMap.regTxnPwdUpperWarn),a.focus(),!1;if(!/[a-z]/.test(a.val()))return alert(ewalletMsgMap.regTxnPwdLowerWarn),a.focus(),!1;if(7>a.val().length)return alert(ewalletMsgMap.regTxnPwdLen),a.focus(),
!1;if(15<a.val().length)return alert(ewalletMsgMap.regTxnPwdMaxLen),a.focus(),!1;if(c.test(a.val()))return alert(ewalletMsgMap.regTxnPwdSplChar),a.focus(),!1;if(""==b.val())return alert(ewalletMsgMap.regCnfPwd),b.focus(),!1;if(c.test(b.val()))return alert(ewalletMsgMap.regCnfPwdSplChar),b.focus(),!1;if(a.val()!=b.val())return alert(ewalletMsgMap.regTxnPwdCnfMismatch),a.focus(),!1}
var _inSufBal,_no_min_e_wallet_balance,_e_wallet_min_balance,_eWalletExpired,_eWalletDeactivated,_eWalletTxnPwdNull,_eWalletRegReq,_soft_inSufBal,_soft_min_balance,_soft_no_min_balance,btc;
function checkSearchType(a){var b=$($(".selected_bank_hidden input[type\x3dhidden]")[0]).val();null==a?0<$(".selected-bank-list.PREFERRED :[value\x3d'"+b+"']").length?(a="PREFERRED",$($(".payment_option_hidden input[type\x3dhidden]")[0]).val(a)):a=$($(".payment_option_hidden input[type\x3dhidden]")[0]).val():$($(".payment_option_hidden input[type\x3dhidden]")[0]).val(a);$(".payment-list div:not(."+a+")").each(function(a,b){$(b).css("display","none")});$("."+a).css("display","");$(".paymentOption td").css("background-color",
"#00d7ff");$(".paymentOption td[id\x3d"+a+"]").css("background-color","#00A7FF");"PREFERRED"==a||"RDS"==a||"E_WALLET"==a?0<$(".prefdBankOpt").length&&$(".prefdBankOpt").css("display","none"):0<$(".prefdBankOpt").length&&$(".prefdBankOpt").css("display","");$(".prefdBankOpt input[type\x3dcheckbox]").attr("checked",!1);$(".selected-bank-list:visible table").each(function(a,b){1>=$(b).find("tr td").length&&1<=$(b).find("tr td:empty").length?($(b).closest("td").find("br:gt(1)").remove(),$(b).remove()):
$(b).prev("div:hidden").css("display","block")});setPreSelBank();fetchBankMsg($(".selected-bank-list :visible:checked"));populatePaymentInfoMsg()}
function populatePaymentInfoMsg(){var a=$($(".payment_option_hidden input[type\x3dhidden]")[0]).val();$(".paymentMsgBox ul").empty();"true"==normalUser&&$(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.prefMsg+"\x3c/li\x3e");"CREDIT_CARD"==a?($(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.pgMsg1+"\x3c/li\x3e"),$(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.pgMsg2+"\x3c/li\x3e"),$(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.pgMsg3+"\x3c/li\x3e"),$("#cardTableHead").html(bankMsgMap.cardLabel),
$("#cardTypeRowId").show()):"DEBIT_CARD"==a?0<$(".selected-bank-list input[name\x3dCREDIT_CARD][type\x3dradio]").length&&($(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.debitMsg1+"\x3c/li\x3e"),$(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.debitMsg2+"\x3c/li\x3e"),$(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.debitMsg3+"\x3c/li\x3e")):"EMI"==a?($(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.emiMsg+"\x3c/li\x3e"),$("#cardTableHead").html(bankMsgMap.cardLabel),$("#cardTypeRowId").show()):
"CASH_CARD"==a?($("#cardTableHead").html(bankMsgMap.cashLabel),$("#cardTypeRowId").hide()):"IRCTC_PREPAID"==a&&($("#cardTableHead").html(bankMsgMap.prepaidLabel),$("#cardTypeRowId").hide());a=$(".selected-bank-list :visible:checked").val();$(".paymentMsgBox ul li:contains("+bankMsgMap.kotakMsg.replace("\x3cfont color\x3d'#b80e59'\x3e","").replace("\x3c/font\x3e","")+")").remove();58==a&&$(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.kotakMsg+"\x3c/li\x3e");0>=$(".paymentMsgBox ul li").size()&&
$(".paymentMsgBox").hide()}
function validateBankSelection(a,b){var c=$($(".payment_option_hidden input[type\x3dhidden]")[0]).val(),e=!1;1!=$(".selected-bank-list :visible:checked").length&&"E_WALLET"!=c&&"RDS"!=c&&"SOFT_REDEMPTION"!=c&&(e=!0);e?($(".selected-bank-list:visible").addClass("error_field"),null!=b?b.push(bankMsgMap.selPmtOption):alert(bankMsgMap.selBankPay)):$(".selected-bank-list:visible").removeClass("error_field");if("E_WALLET"==c){if(_eWalletTxnPwdNull)return b.push(bankMsgMap.ewNull),!1;if(_inSufBal)return b.push(bankMsgMap.ewInsufBal),
!1;if(_no_min_e_wallet_balance)return b.push(bankMsgMap.ewMinBal1+_e_wallet_min_balance+bankMsgMap.ewMinBal2),!1;if(_eWalletExpired)return b.push(bankMsgMap.ewExp),!1;if(_eWalletDeactivated)return b.push(bankMsgMap.ewDeact),!1;if(_eWalletRegReq)return b.push(bankMsgMap.ewRegReqLink),!1}if("RDS"==c||"E_WALLET"==c)e=$(".rds-txn-pswd"),0<e.length&&(e=e[0],0==$.trim($(e).val()).length?($(e).addClass("error_field"),b.push(bankMsgMap.ewTxnPwd)):$(e).removeClass("error_field"));if("SOFT_REDEMPTION"==c){if(_soft_inSufBal)return b.push(bankMsgMap.softInsufBal),
!1;if(_soft_no_min_balance)return b.push(bankMsgMap.softMinBal1+_soft_min_balance+bankMsgMap.softMinBal2),!1;e=$(".soft-txn-pswd");0<e.length&&(e=$.trim($(e[0]).val()),0<e.length?$(e).removeClass("error_field"):($(e).addClass("error_field"),b.push(bankMsgMap.softTxnPwd)))}1==$("#card_div_id:visible").length&&(c=$("#card_no_id"),e=$.trim(c.val()),13<=e.length&&19>=e.length&&isNumeric(e)&&checkMod10(e)?$(c).removeClass("error_field"):(b.push(bankMsgMap.enterCardNo),$(c).addClass("error_field")),c=$("#card_expiry_mon_id"),
"mm"==c.val()?(b.push(bankMsgMap.selExpMon),$(c).addClass("error_field")):$(c).removeClass("error_field"),c=$("#card_expiry_year_id"),4==$.trim(c.val()).length&&isNumeric(c.val())?$(c).removeClass("error_field"):(b.push(bankMsgMap.selExpYr),$(c).addClass("error_field")),c=$("#cvv_no_id"),3<=$.trim(c.val()).length&&isNumeric(c.val())?$(c).removeClass("error_field"):(b.push(bankMsgMap.enterCvv),$(c).addClass("error_field")),c=$("#card_name_id"),0<$.trim(c.val()).length?$(c).removeClass("error_field"):
(b.push(bankMsgMap.enterCCName),$(c).addClass("error_field")),c=$("#captcha_txt"),1==c.length&&""==$.trim(c.val())?(b.push(bankMsgMap.enterCaptcha),$(c).addClass("error_field")):$(c).removeClass("error_field"));if(1==$("#vpa_row_id:visible").length){var c=$(".upi_vpa_fld"),e=$(".vpa_notificaion_box"),f=$.trim(c.val());3<=f.length&&30>=f.length?($(c).removeClass("error_field"),$(e).show("slow")):(b.push(bankMsgMap.enterVpa),$(c).addClass("error_field"),$(e).hide("slow"))}}
function fetchBankMsg(a){a=$(a).val();var b=btc[""+a];void 0===b||null==b?($("#trmsg").html(""),$("#bcharge").hide()):($("#bcharge").show(),$("#trmsg").html(b));var b=btc[a+"_type"],c=$("#card_div_id"),e=$("#vpa_row_id"),f=$(".selected-bank-list :visible:checked").val(),f=$(".selected-bank-list input[value\x3d"+f+"]").not("[id\x3dPREFERRED]").attr("id");0<c.length+e.length&&(1==b&&void 0!=f?"UPI_VPA"==f?(e.show("slow"),c.hide("slow")):(refreshCaptcha(),c.show("slow"),e.hide("slow")):(c.hide("slow"),
e.hide("slow")));$(".paymentMsgBox ul li:contains("+bankMsgMap.kotakMsg.replace("\x3cfont color\x3d'#b80e59'\x3e","").replace("\x3c/font\x3e","")+")").remove();58==a&&$(".paymentMsgBox ul").append("\x3cli\x3e"+bankMsgMap.kotakMsg+"\x3c/li\x3e");setSelectedBank()}
function setPreSelBank(){var a=$($(".selected_bank_hidden input[type\x3dhidden]")[0]).val(),b=$($(".payment_option_hidden input[type\x3dhidden]")[0]).val();$(".selected-bank-list :visible:[value\x3d'"+a+"']").prop("checked",!0);0==$(".paymentOption td#"+b).length&&"RDS"!=b&&"E_WALLET"!=b&&$(".paymentOption td:visible:first").click()}
function setSelectedBank(){var a=$(".selected-bank-list :visible:checked").val();$($(".payment_option_hidden input[type\x3dhidden]")[0]).val();null==a&&(a=0);$($(".selected_bank_hidden input[type\x3dhidden]")[0]).val(a)}function checkMod10(a){var b=!1,c,e,f=0;for(c=a.length-1;0<=c;c--)e=parseInt(a.charAt(c)),b&&(e*=2,9<e&&(e-=9)),b=!b,f+=e;return 0==f%10}function refreshCaptcha(){0!=$("#cimage").length&&$("#cimage").attr("src","captchaImage?"+Math.random())}
$(document).ready(function(){$("#cvv-help").mouseover(function(a){$("#cvvHelpdiv").css("left",a.pageX).css("top",a.pageY-210).show()}).mousemove(function(a){$("#cvvHelpdiv").css("left",a.pageX).css("top",a.pageY-210)}).mouseout(function(){$("#cvvHelpdiv").hide()})});function resendOTPComplete(a,b){alert(a);b&&$(".resendOTP").remove()};